(()=>{var e,t,n,i={5029:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=5029,e.exports=t},3437:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3437,e.exports=t},7327:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Article=void 0;const o=n(7514),a=n(5961),s=n(4520),r=n(9496),d=n(7554),c=n(8809),l=n(9489),u=n(3062),p=n(1017),g=n(4520),f=n(2997),h=n(9290),m=n(5090),T=n(7519),v=n(6452),y=n(1209);class w{static insert(e){return i(this,void 0,void 0,(function*(){const t=r.window.activeTextEditor;if(!t)return;const n=l.ArticleHelper.getCurrent();if(!n)return;let i=[];const o=e===d.TaxonomyType.Tag?"tags":"categories";if(n.data[o]){const e=n.data[o];e&&e.length>0&&(i=[...e].filter((e=>e)).map((e=>({label:e,picked:!0}))))}const a=l.Settings.getTaxonomy(e);if(a&&a.length>0)for(const e of a)i.find((t=>t.label===e))||i.push({label:e});if(0===i.length)return void u.Notifications.info(`No ${e===d.TaxonomyType.Tag?"tags":"categories"} configured.`);const s=yield r.window.showQuickPick(i,{placeHolder:`Select your ${e===d.TaxonomyType.Tag?"tags":"categories"} to insert`,canPickMany:!0});s&&(n.data[o]=s.map((e=>e.label))),l.ArticleHelper.update(t,n)}))}static setDate(){return i(this,void 0,void 0,(function*(){const e=r.window.activeTextEditor;if(!e)return;let t=l.ArticleHelper.getFrontMatter(e);if(t){t=this.updateDate(t,!0);try{l.ArticleHelper.update(e,t)}catch(e){u.Notifications.error(`Something failed while parsing the date format. Check your "${s.CONFIG_KEY}${s.SETTING_DATE_FORMAT}" setting.`)}}}))}static updateDate(e,t=!1){return e.data=l.ArticleHelper.updateDates(e.data),e}static setLastModifiedDate(){return i(this,void 0,void 0,(function*(){const e=r.window.activeTextEditor;if(!e)return;const t=this.setLastModifiedDateInner(e.document);void 0!==t&&l.ArticleHelper.update(e,t)}))}static setLastModifiedDateOnSave(e){return i(this,void 0,void 0,(function*(){const t=this.setLastModifiedDateInner(e);return void 0===t?[]:[l.ArticleHelper.generateUpdate(e,t)]}))}static setLastModifiedDateInner(e){const t=l.ArticleHelper.getFrontMatterFromDocument(e);if(!t||!t.data||0===Object.keys(t.data).length)return;const n=Object.assign({},t),i=l.ArticleHelper.getModifiedDateField(t)||g.DefaultFields.LastModified;try{return n.data[i]=w.formatDate(new Date),n}catch(e){u.Notifications.error(`Something failed while parsing the date format. Check your "${s.CONFIG_KEY}${s.SETTING_DATE_FORMAT}" setting.`)}}static generateSlug(){return i(this,void 0,void 0,(function*(){m.Telemetry.send(s.TelemetryEvent.generateSlug);const e=l.Settings.get(s.SETTING_SLUG_PREFIX),t=l.Settings.get(s.SETTING_SLUG_SUFFIX),n=l.Settings.get(s.SETTING_SLUG_UPDATE_FILE_NAME),i=l.Settings.get(s.SETTING_TEMPLATES_PREFIX),o=r.window.activeTextEditor;if(!o)return;const a=l.ArticleHelper.getFrontMatter(o);if(!a||!a.data)return;const d=l.ArticleHelper.getContentType(a.data),g=a.data.title,h=l.SlugHelper.createSlug(g);if(h){let m=`${e}${h}${t}`;if(a.data.slug=m,d){let e=d.fields.filter((e=>"{{slug}}"===e.default));for(const t of e)a.data[t.name]=h;const t=l.Settings.get(s.SETTING_CONTENT_PLACEHOLDERS),n=null==t?void 0:t.filter((e=>e.value.includes("{{slug}}"))),i=l.Settings.get(s.SETTING_DATE_FORMAT);for(const e of n||[]){const t=d.fields.filter((t=>t.default===`{{${e.id}}}`));for(const n of t)a.data[n.name]=e.value,a.data[n.name]=(0,y.processKnownPlaceholders)(a.data[n.name],g,i)}}if(l.ArticleHelper.update(o,a),n){const e=r.window.activeTextEditor;if(e){const t=(0,p.extname)(e.document.fileName),n=(0,p.basename)(e.document.fileName);let o=h.startsWith("/")?h.substring(1):h;o=o.endsWith("/")?o.substring(0,o.length-1):o;let a=`${o}${t}`;i&&"string"==typeof i&&(a=`${(0,c.format)(new Date,f.DateHelper.formatUpdate(i))}-${a}`);const s=e.document.uri.fsPath.replace(n,a);try{yield e.document.save(),yield r.workspace.fs.rename(e.document.uri,r.Uri.file(s),{overwrite:!1})}catch(e){u.Notifications.error(`Failed to rename file: ${(null==e?void 0:e.message)||e}`)}}}}}))}static getSlug(){const e=r.window.activeTextEditor;if(!e)return;const t=(0,h.parseWinPath)(e.document.fileName);if(!(0,a.isValidFile)(t))return;const n=(0,p.parse)(t);return"index"!==n.name.toLowerCase()?n.name:(0,p.basename)((0,p.dirname)(t))}static toggleDraft(){return i(this,void 0,void 0,(function*(){const e=r.window.activeTextEditor;if(!e)return;const t=l.ArticleHelper.getFrontMatter(e);if(!t)return;const n=!t.data.draft;t.data.draft=n,l.ArticleHelper.update(e,t)}))}static autoUpdate(e){return i(this,void 0,void 0,(function*(){const t=e.document;t&&l.ArticleHelper.isSupportedFile(t)&&l.Settings.get(s.SETTING_AUTO_UPDATE_DATE)&&e.waitUntil(w.setLastModifiedDateOnSave(t))}))}static formatDate(e){const t=l.Settings.get(s.SETTING_DATE_FORMAT);return t&&"string"==typeof t?(0,c.format)(e,f.DateHelper.formatUpdate(t)):"function"==typeof e.toISOString?e.toISOString():null==e?void 0:e.toString()}static insertMedia(){return i(this,void 0,void 0,(function*(){let e=r.window.activeTextEditor;if(!e)return;const t=l.ArticleHelper.getFrontMatter(e),n=t&&t.data?l.ArticleHelper.getContentType(t.data):o.DEFAULT_CONTENT_TYPE,i=e.selection.active;yield r.commands.executeCommand(g.COMMAND_NAME.dashboard,{type:"media",data:{pageBundle:!!n.pageBundle,filePath:e.document.uri.fsPath,fieldName:(0,p.basename)(e.document.uri.fsPath),position:i}}),T.MediaListener.getMediaSelection()}))}static insertSnippet(){return i(this,void 0,void 0,(function*(){let e=r.window.activeTextEditor;if(!e)return;const t=e.selection.active,n=e.document.getText(e.selection),i=l.ArticleHelper.getFrontMatter(e);yield r.commands.executeCommand(g.COMMAND_NAME.dashboard,{type:v.NavigationType.Snippets,data:{fileTitle:(null==i?void 0:i.data.title)||"",filePath:e.document.uri.fsPath,fieldName:(0,p.basename)(e.document.uri.fsPath),position:t,selection:n}})}))}static articleDate(e,t,n){return(void 0!==e.data[t]||n)&&(e.data[t]=w.formatDate(new Date)),e}}t.Article=w},5454:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Backers=void 0;const o=n(9496),a=n(4520),s=n(9489),r=n(4416),d=n(6292),c=n(8424),l=n(67),u=n(7519);class p{static init(e){return i(this,void 0,void 0,(function*(){p.creds=new r.Credentials,yield p.creds.initialize(e,p.tryUsernameCheck),p.tryUsernameCheck(),e.subscriptions.push(o.commands.registerCommand("frontMatter.authenticate",(()=>i(this,void 0,void 0,(function*(){p.tryUsernameCheck()})))))}))}static tryUsernameCheck(){return i(this,void 0,void 0,(function*(){try{const e=yield p.getUsername();p.validate(e||"")}catch(e){p.validate("")}}))}static getUsername(){var e,t,n;return i(this,void 0,void 0,(function*(){const i=yield null===(e=p.creds)||void 0===e?void 0:e.getOctokit(),o=yield null==i?void 0:i.users.getAuthenticated();if(null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.login)return null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.login}))}static validate(e){return i(this,void 0,void 0,(function*(){const t=s.Extension.getInstance();e||t.setState(a.CONTEXT.backer,void 0,"global");const n=t.isBetaVersion();if((yield(0,d.default)(`https://${n?"beta.":""}frontmatter.codes/api/backers?backer=${e}`)).ok){const e=yield t.getState(a.CONTEXT.backer,"global");yield t.setState(a.CONTEXT.backer,!0,"global"),e||(c.ExplorerView.getInstance().visible&&u.SettingsListener.getSettings(),l.Dashboard.isOpen&&l.Dashboard.reload())}else t.setState(a.CONTEXT.backer,!1,"global")}))}}t.Backers=p,p.creds=null},325:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Content=void 0;const o=n(9496),a=n(4520);t.Content=class{static create(){return i(this,void 0,void 0,(function*(){const e=[{label:"Create content by content type",description:"Select if you want to create new content by the available content type(s)"},{label:"Create content by template",description:"Select if you want to create new content by the available template(s)"}],t=yield o.window.showQuickPick(e,{placeHolder:"Select how you want to create your new content",canPickMany:!1});t&&(t.label===e[0].label?o.commands.executeCommand(a.COMMAND_NAME.createByContentType):o.commands.executeCommand(a.COMMAND_NAME.createByTemplate))}))}}},67:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Dashboard=void 0;const o=n(4520),a=n(1017),s=n(9496),r=n(9489),d=n(9395),c=n(2813),l=n(8099),u=n(1718),p=n(1687),g=n(7519),f=n(4118);class h{static get viewData(){return h._viewData}static init(){return i(this,void 0,void 0,(function*(){r.Settings.get(o.SETTING_DASHBOARD_OPENONSTART)&&h.open()}))}static open(e){return i(this,void 0,void 0,(function*(){u.MediaLibrary.getInstance(),h._viewData=e,h.isOpen?h.reveal(!!e):h.create(),yield s.commands.executeCommand("setContext",o.CONTEXT.isDashboardOpen,!0)}))}static get isOpen(){return!h.isDisposed}static reveal(e=!1){h.webview&&(h.webview.reveal(),e&&h.postWebviewMessage({command:d.DashboardCommand.viewData,data:h.viewData}))}static close(){var e;null===(e=h.webview)||void 0===e||e.dispose()}static reload(){var e;h.isOpen&&(null===(e=h.webview)||void 0===e||e.dispose(),setTimeout((()=>{h.open()}),100))}static resetViewData(){h._viewData=void 0}static create(){return i(this,void 0,void 0,(function*(){const e=c.Extension.getInstance().extensionPath;h.webview=s.window.createWebviewPanel("frontMatterDashboard","FrontMatter Dashboard",s.ViewColumn.One,{enableScripts:!0,retainContextWhenHidden:!0}),h.isDisposed=!1,h.webview.iconPath={dark:s.Uri.file((0,a.join)(e.fsPath,"assets/icons/frontmatter-short-dark.svg")),light:s.Uri.file((0,a.join)(e.fsPath,"assets/icons/frontmatter-short-light.svg"))},h.webview.webview.html=h.getWebviewContent(h.webview.webview,e),h.webview.onDidChangeViewState((()=>i(this,void 0,void 0,(function*(){var e,t;(null===(e=this.webview)||void 0===e?void 0:e.visible)||(h._viewData=void 0,g.MediaListener.getMediaSelection(),h.postWebviewMessage({command:d.DashboardCommand.viewData,data:null})),yield s.commands.executeCommand("setContext",o.CONTEXT.isDashboardOpen,null===(t=this.webview)||void 0===t?void 0:t.visible)})))),h.webview.onDidDispose((()=>i(this,void 0,void 0,(function*(){h.isDisposed=!0,h._viewData=void 0,g.MediaListener.getMediaSelection(),yield s.commands.executeCommand("setContext",o.CONTEXT.isDashboardOpen,!1)})))),r.Settings.onConfigChange((e=>{p.SettingsListener.getSettings()})),h.webview.webview.onDidReceiveMessage((e=>i(this,void 0,void 0,(function*(){r.Logger.info(`Receiving message from webview: ${e.command}`),p.DashboardListener.process(e),p.ExtensionListener.process(e),p.MediaListener.process(e),p.PagesListener.process(e),p.SettingsListener.process(e),p.DataListener.process(e),p.TelemetryListener.process(e),p.SnippetListener.process(e),f.ModeListener.process(e)}))))}))}static getWebview(){var e;return null===(e=h.webview)||void 0===e?void 0:e.webview}static postWebviewMessage(e){var t;h.isDisposed||h.webview&&(null===(t=h.webview)||void 0===t||t.webview.postMessage(e))}static getWebviewContent(e,t){const n="dashboardWebView.js";let i="";const o=c.Extension.getInstance().isProductionMode;i=o?e.asWebviewUri(s.Uri.joinPath(t,"dist",n)).toString():`http://localhost:9000/${n}`;const a=l.WebviewHelper.getNonce(),r=c.Extension.getInstance(),d=r.getVersion(),u=r.isBetaVersion();return`\n      <!DOCTYPE html>\n      <html lang="en" style="width:100%;height:100%;margin:0;padding:0;">\n      <head>\n\t\t\t  <meta charset="UTF-8">\n        <meta http-equiv="Content-Security-Policy" content="${["default-src 'none';",`img-src vscode-file://vscode-app ${e.cspSource} https://api.visitorbadge.io 'self' 'unsafe-inline'`,`script-src ${o?`'nonce-${a}'`:"http://localhost:9000 http://0.0.0.0:9000"} 'unsafe-eval'`,`style-src ${e.cspSource} 'self' 'unsafe-inline'`,`font-src ${e.cspSource}`,"connect-src https://o1022172.ingest.sentry.io "+(o?"":"ws://localhost:9000 ws://0.0.0.0:9000 http://localhost:9000 http://0.0.0.0:9000")].join("; ")}">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n\n        <title>Front Matter Dashboard</title>\n      </head>\n      <body style="width:100%;height:100%;margin:0;padding:0;overflow:hidden" class="bg-gray-100 text-vulcan-500 dark:bg-vulcan-500 dark:text-whisper-500">\n        <div id="app" data-isProd="${o}" data-environment="${u?"BETA":"main"}" data-version="${d.usedVersion}" style="width:100%;height:100%;margin:0;padding:0;" ${d.usedVersion?"":'data-showWelcome="true"'}></div>\n\n        <img style="display:none" src="https://api.visitorbadge.io/api/combined?user=estruyf&repo=frontmatter-usage&countColor=%23263759&slug=dashboard-${d.installedVersion}" alt="Daily usage" />\n\n        <script ${o?`nonce="${a}"`:""} src="${i}"><\/script>\n      </body>\n      </html>\n    `}}t.Dashboard=h,h.webview=null,h.isDisposed=!0},1319:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const o=n(1304),a=n(9496),s=n(1105),r=n(1017);class d{static show(){return i(this,void 0,void 0,(function*(){const e=o.Folders.get(),t=o.Folders.getProjectFolderName(),n=o.Folders.getWorkspaceFolder(),i=[];for(const n of e)i.push(yield d.processFolder(n,t));const r=yield d.allProjectFiles(),c=`# Project name\n\n${t}\n\n# Folders\n\n${e.map((e=>`- ${e.title}: "${e.path}"`)).join("\n")}\n\n# Workspace folder\n\n${n?n.fsPath:"No workspace folder"}\n\n# Total files\n\n${r}\n\n# Folders to search files\n\n${i.join("\n")}\n    `;s.default.show(c,`${t} diagnostics`,"markdown",a.ViewColumn.One)}))}static allProjectFiles(){return i(this,void 0,void 0,(function*(){return`Total files found: ${(yield a.workspace.findFiles("**/*.*")).length}`}))}static processFolder(e,t){return i(this,void 0,void 0,(function*(){let n=e.path.split(t).pop();n=n||"",n=null==n?void 0:n.replace(/\\/g,"/"),n=(null==n?void 0:n.startsWith("/"))?n.substr(1):n;const i=yield a.workspace.findFiles((0,r.join)(n,e.excludeSubdir?"/":"**/","*.md")),o=yield a.workspace.findFiles((0,r.join)(n,e.excludeSubdir?"/":"**/","*.mdx")),s=yield a.workspace.findFiles((0,r.join)(n,e.excludeSubdir?"/":"**/","*.markdown"));return`- Project start length: ${n.length} | Search in: "${(0,r.join)(n,e.excludeSubdir?"/":"**/","*.*")}" | mdFiles: ${i.length} | mdxFiles: ${o.length} | markdownFiles: ${s.length}`}))}}t.Diagnostics=d},1304:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Folders=t.WORKSPACE_PLACEHOLDER=void 0;const o=n(3528),a=n(4520),s=n(9496),r=n(1017),d=n(8618),c=n(7694),l=n(3062),u=n(9489),p=n(7147),g=n(8809),f=n(67),h=n(9290),m=n(1348),T=n(1687),v=n(2889),y=n(5090),w=n(2884);t.WORKSPACE_PLACEHOLDER="[[workspace]]";class S{static addMediaFolder(e){return i(this,void 0,void 0,(function*(){let t=S.getWorkspaceFolder();const n=u.Settings.get(a.SETTING_CONTENT_STATIC_FOLDER);let i="";(null==e?void 0:e.selectedFolder)?i=e.selectedFolder.replace((0,h.parseWinPath)((null==t?void 0:t.fsPath)||""),""):n&&(i=`/${n}`),i&&!i.endsWith("/")&&(i+="/");const o=yield s.window.showInputBox({prompt:'Which name would you like to give to your folder (use "/" to create multi-level folders)?',value:i,ignoreFocusOut:!0,placeHolder:`${(0,g.format)(new Date,"yyyy/MM")}`});if(!o)return void l.Notifications.warning("No folder name was specified.");const d=o.split("/").filter((e=>e));let c=[];for(const e of d){const n=(0,r.join)((0,h.parseWinPath)((null==t?void 0:t.fsPath)||""),c.join("/"),e);c.push(e),(0,p.existsSync)(n)||(0,p.mkdirSync)(n)}f.Dashboard.isOpen&&(m.MediaHelpers.resetMedia(),T.MediaListener.sendMediaFiles(0,o)),y.Telemetry.send(a.TelemetryEvent.addMediaFolder)}))}static create(){return i(this,void 0,void 0,(function*(){const e=yield o.Questions.SelectContentFolder();if(!e)return;const t=S.get().find((t=>t.title===e));if(t){const e=S.getFolderPath(s.Uri.file(t.path));e&&c.Template.create(e)}}))}static register(e){return i(this,void 0,void 0,(function*(){if(e&&e.fsPath){const t=e.fsPath.replace(/\//g,"\\");let n=S.get();if(n.find((n=>n.path.includes(e.fsPath)||n.path.includes(t))))return void l.Notifications.warning("Folder is already registered");const i=yield s.window.showInputBox({prompt:"Which name would you like to specify for this folder?",placeHolder:"Folder name",value:(0,r.basename)(e.fsPath)});n.push({title:i,path:e.fsPath}),n=d(n,(e=>e.path)),yield S.update(n),l.Notifications.info("Folder registered"),y.Telemetry.send(a.TelemetryEvent.registerFolder),T.SettingsListener.getSettings()}}))}static unregister(e){return i(this,void 0,void 0,(function*(){if(e&&e.path){let t=S.get();t=t.filter((t=>t.path!==e.fsPath)),yield S.update(t),y.Telemetry.send(a.TelemetryEvent.unregisterFolder)}}))}static getFolderPath(e){let t="";const n=S.getWorkspaceFolder();return e&&e.fsPath?t=e.fsPath:n&&(t=n.fsPath),t}static getWorkspaceFolder(){const e=s.workspace.workspaceFolders;if(e&&1===e.length)return e[0].uri;if(e&&e.length>1){let t;for(const n of e)!t&&(0,p.existsSync)((0,r.join)(n.uri.fsPath,u.Settings.globalFile))&&(t=n.uri);return t||s.window.showWorkspaceFolderPick({placeHolder:"Please select the main workspace folder for Front Matter to use."}).then((e=>{e&&(u.Settings.createGlobalFile(e.uri),s.commands.executeCommand("workbench.action.reloadWindow"))})),t}}static getProjectFolderName(){const e=S.getWorkspaceFolder();return e?(0,r.basename)(e.fsPath):""}static getInfo(e){return i(this,void 0,void 0,(function*(){const t=u.Settings.get(a.SETTING_CONTENT_SUPPORTED_FILETYPES),n=S.get();if(n&&n.length>0){let i=[];for(const o of n)try{const n=S.getProjectFolderName();let a=o.path.split(n).pop();if(a){a=a.replace(/\\/g,"/"),a=a.startsWith("/")?a.substr(1):a;let n=[];for(const e of t||v.DEFAULT_FILE_TYPES){const t=(0,r.join)(a,o.excludeSubdir?"/":"**",`*${e.startsWith(".")?"":"."}${e}`),i=yield s.workspace.findFiles(t,"**/node_modules/**");n=[...n,...i]}if(n){let t=[];for(const e of n)try{const n=(0,r.basename)(e.fsPath),i=(0,r.dirname)(e.fsPath).split(r.sep).pop(),o=yield s.workspace.fs.stat(e);t.push(Object.assign({filePath:e.fsPath,fileName:n,folderName:i},o))}catch(e){}t=t.sort(((e,t)=>t.mtime-e.mtime)),e&&(t=t.slice(0,e)),i.push({title:o.title,files:n.length,lastModified:t})}}}catch(e){}return i}return null}))}static get(){const e=S.getWorkspaceFolder();return u.Settings.get(a.SETTING_CONTENT_PAGE_FOLDERS).map((t=>Object.assign(Object.assign({},t),{path:S.absWsFolder(t,e)})))}static update(e){return i(this,void 0,void 0,(function*(){const t=S.getWorkspaceFolder();let n=e.map((e=>Object.assign(Object.assign({},e),{path:S.relWsFolder(e,t)})));yield u.Settings.update(a.SETTING_CONTENT_PAGE_FOLDERS,n,!0),T.PagesListener.startWatchers()}))}static getAbsFilePath(e){const n=S.getWorkspaceFolder(),i="win32"===process.platform;let o=e.replace(t.WORKSPACE_PLACEHOLDER,(0,h.parseWinPath)((null==n?void 0:n.fsPath)||""));return o=i?o.split("/").join("\\"):o,o}static absWsFolder(e,n){const i="win32"===process.platform;let o=e.path.replace(t.WORKSPACE_PLACEHOLDER,(0,h.parseWinPath)((null==n?void 0:n.fsPath)||""));return o=i?o.split("/").join("\\"):o,o}static relWsFolder(e,n){const i="win32"===process.platform;let o=(0,h.parseWinPath)(e.path).replace((0,h.parseWinPath)((null==n?void 0:n.fsPath)||""),t.WORKSPACE_PLACEHOLDER);return o=i?o.split("\\").join("/"):o,o}static getContentFolders(){return i(this,void 0,void 0,(function*(){const e=S.getWorkspaceFolder(),t=(u.Settings.get(a.SETTING_CONTENT_SUPPORTED_FILETYPES)||v.DEFAULT_FILE_TYPES).map((t=>`${(0,r.join)((null==e?void 0:e.fsPath)||"","**",`*${t.startsWith(".")?"":"."}${t}`)}`));let n=[];for(const e of t)n=[...n,...yield this.findFolders(e)];return e&&(n=n.filter((t=>t!==e.fsPath))),[...new Set(n)].map((t=>(0,r.relative)((null==e?void 0:e.path)||"",t)))}))}static findFolders(e){return new Promise((t=>{(0,w.glob)(e,{ignore:"**/node_modules/**"},((e,n)=>{const i=n.map((e=>(0,r.dirname)(e))),o=[...new Set(i)];t(o)}))}))}}t.Folders=S},5429:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Preview=void 0;const o=n(5090),a=n(4520),s=n(1790),r=n(1017),d=n(9496),c=n(9489),l=n(8809),u=n(2997),p=n(5885),g=n(106),f=n(8099);class h{static init(){return i(this,void 0,void 0,(function*(){const e=h.getSettings();yield d.commands.executeCommand("setContext",a.CONTEXT.canOpenPreview,!!e.host)}))}static open(e){return i(this,void 0,void 0,(function*(){const t=h.getSettings();if(!t.host)return;const n=d.window.activeTextEditor,i=n?s.ArticleHelper.getFrontMatter(n):null;let m=(null==i?void 0:i.data)?i.data.slug:"",T=t.pathname;if(null==i?void 0:i.data){const e=s.ArticleHelper.getContentType(i.data);e&&e.previewPath&&(T=e.previewPath)}if(m||(m=p.Article.getSlug()),T){const e=s.ArticleHelper.getDate(i);try{m=(0,r.join)((0,l.format)(e||new Date,u.DateHelper.formatUpdate(T)),m)}catch(e){m=(0,r.join)(T,m)}}const v=d.window.createWebviewPanel("frontMatterPreview","FrontMatter Preview",{viewColumn:d.ViewColumn.Beside,preserveFocus:!0},{enableScripts:!0});v.iconPath={dark:d.Uri.file((0,r.join)(e,"assets/icons/frontmatter-short-dark.svg")),light:d.Uri.file((0,r.join)(e,"assets/icons/frontmatter-short-light.svg"))};const y=yield d.env.asExternalUri(d.Uri.parse(t.host)),w=v.webview.cspSource;v.webview.onDidReceiveMessage((e=>{e.command!==a.PreviewCommands.toVSCode.open||e.data&&d.commands.executeCommand("vscode.open",e.data)}));const S="dashboardWebView.js",E=f.WebviewHelper.getNonce(),_=c.Extension.getInstance(),N=_.isProductionMode,M=_.getVersion(),b=_.isBetaVersion(),C=_.extensionPath,O=["default-src 'none';",`img-src ${y} ${w} http: https:;`,`script-src ${N?`'nonce-${E}'`:"http://localhost:9000 http://0.0.0.0:9000"} 'unsafe-eval'`,`style-src ${w} 'self' 'unsafe-inline' http: https:`,"connect-src https://o1022172.ingest.sentry.io "+(N?"":"ws://localhost:9000 ws://0.0.0.0:9000 http://localhost:9000 http://0.0.0.0:9000"),`frame-src ${y} ${w} http: https:;`];let P="";P=N?v.webview.asWebviewUri(d.Uri.joinPath(C,"dist",S)).toString():`http://localhost:9000/${S}`,v.webview.html=`\n      <!DOCTYPE html>\n      <html lang="en" style="width:100%;height:100%;margin:0;padding:0;">\n        <head>\n          <meta charset="UTF-8">\n          <meta http-equiv="Content-Security-Policy" content="${O.join("; ")}">\n          <meta name="viewport" content="width=device-width, initial-scale=1.0">\n\n          <title>Front Matter Preview</title>\n        </head>\n        <body style="width:100%;height:100%;margin:0;padding:0;overflow:hidden">\n          <div id="app" data-type="preview" data-url="${(0,g.urlJoin)(y.toString(),m||"")}" data-isProd="${N}" data-environment="${b?"BETA":"main"}" data-version="${M.usedVersion}" style="width:100%;height:100%;margin:0;padding:0;"></div>\n\n          <script ${N?`nonce="${E}"`:""} src="${P}"><\/script>\n        </body>\n      </html>\n    `,o.Telemetry.send(a.TelemetryEvent.openPreview)}))}static getSettings(){return{host:c.Settings.get(a.SETTING_PREVIEW_HOST),pathname:c.Settings.get(a.SETTING_PREVIEW_PATHNAME)}}}t.Preview=h},7672:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Project=void 0;const o=n(5090),a=n(9496),s=n(1017),r=n(7147),d=n(3062),c=n(7694),l=n(1304),u=n(9489),p=n(4520),g=n(1687);class f{static init(e=!0){return i(this,void 0,void 0,(function*(){try{u.Settings.createTeamSettings();const t=u.Settings.get(p.SETTING_CONTENT_DEFAULT_FILETYPE),n=c.Template.getSettings(),i=f.templatePath();if(!n||!i)return;const h=a.Uri.file((0,s.join)(i.fsPath,`article.${t}`));r.existsSync(i.fsPath)||(yield a.workspace.fs.createDirectory(i)),e&&(r.writeFileSync(h.fsPath,f.content,{encoding:"utf-8"}),d.Notifications.info("Project initialized successfully.")),o.Telemetry.send(p.TelemetryEvent.initialization);const m=l.Folders.getWorkspaceFolder(),T=u.FrameworkDetector.get((null==m?void 0:m.fsPath)||"");T&&g.SettingsListener.setFramework(T.name),g.SettingsListener.getSettings()}catch(e){u.Logger.error(`Project::init: ${(null==e?void 0:e.message)||e}`),d.Notifications.error(`Sorry, something went wrong - ${(null==e?void 0:e.message)||e}`)}}))}static templatePath(){const e=c.Template.getSettings(),t=l.Folders.getWorkspaceFolder();return e&&t?a.Uri.file((0,s.join)(t.fsPath,e)):null}}t.Project=f,f.content="---\ntitle:\nslug:\ndescription:\nauthor: \ndate: 2019-08-22T15:20:28.000Z\nlastmod: 2019-08-22T15:20:28.000Z\ndraft: true\ntags: []\ncategories: []\n---\n"},2541:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;const o=n(9496),a=n(7147),s=n(7554),r=n(4520),d=n(9489),c=n(6372),l=n(3062);t.Settings=class{static create(e){return i(this,void 0,void 0,(function*(){const t=yield o.window.showInputBox({prompt:`Insert the value of the ${e===s.TaxonomyType.Tag?"tag":"category"} that you want to add to your configuration.`,placeHolder:"Name of the "+(e===s.TaxonomyType.Tag?"tag":"category")});if(t){const n=e===s.TaxonomyType.Tag?r.SETTING_TAXONOMY_TAGS:r.SETTING_TAXONOMY_CATEGORIES;let i=d.Settings.get(n,!0);if(i||(i=[]),i.find((e=>e===t)))return void l.Notifications.info(`The provided ${e===s.TaxonomyType.Tag?"tag":"category"} already exists.`);i.push(t),yield d.Settings.updateTaxonomy(e,i);const a=yield o.window.showQuickPick(["yes","no"],{canPickMany:!1,placeHolder:`Do you want to add the new ${e===s.TaxonomyType.Tag?"tag":"category"} to the page?`});if(a&&"yes"===a){const n=o.window.activeTextEditor;if(!n)return;const i=d.ArticleHelper.getFrontMatter(n);if(!i)return;const a=e===s.TaxonomyType.Tag?"tags":"categories";if(i.data[a]){const e=i.data[a];e&&!e.find((e=>e===t))&&e.push(t)}else i.data[a]=[t];d.ArticleHelper.update(n,i)}}}))}static export(){return i(this,void 0,void 0,(function*(){const e=yield d.FilesHelper.getMdFiles();e&&o.window.withProgress({location:o.ProgressLocation.Notification,title:`${r.EXTENSION_NAME}: exporting tags and categories`,cancellable:!1},(t=>i(this,void 0,void 0,(function*(){let n=[],i=[];const a=e.length/100;t.report({increment:0});let s=0;for(const r of e){t.report({increment:++s/a});const e=yield o.workspace.openTextDocument(r);if(e){const t=e.getText();if(t)try{const e=c.FrontMatterParser.fromFile(t);if(e&&e.data){const{data:t}=e,o=t.tags,a=t.categories;o&&(n=[...n,...o]),a&&(i=[...i,...a])}}catch(e){}}}let u=d.Settings.get(r.SETTING_TAXONOMY_TAGS,!0);u||(u=[]),u=[...u,...n],u=[...new Set(u)],u=u.sort().filter((e=>!!e)),yield d.Settings.update(r.SETTING_TAXONOMY_TAGS,u,!0);let p=d.Settings.get(r.SETTING_TAXONOMY_CATEGORIES,!0);p||(p=[]),p=[...p,...i],p=[...new Set(p)],p=p.sort().filter((e=>!!e)),yield d.Settings.update(r.SETTING_TAXONOMY_CATEGORIES,p,!0),l.Notifications.info(`Export completed. Tags: ${u.length} - Categories: ${p.length}.`)}))))}))}static remap(){return i(this,void 0,void 0,(function*(){const e=yield o.window.showQuickPick(["Tag","Category"],{placeHolder:"What do you want to remap?",canPickMany:!1});if(!e)return;const t="Tag"===e?s.TaxonomyType.Tag:s.TaxonomyType.Category;let n=d.Settings.getTaxonomy(t);if(!n||0===n.length)return void l.Notifications.info(`No ${t===s.TaxonomyType.Tag?"tags":"categories"} configured.`);const u=yield o.window.showQuickPick(n,{placeHolder:`Select your ${t===s.TaxonomyType.Tag?"tags":"categories"} to insert`,canPickMany:!1});if(!u)return;const p=yield o.window.showInputBox({prompt:`Specify the value of the ${t===s.TaxonomyType.Tag?"tag":"category"} with which you want to remap "${u}". Leave the input <blank> if you want to remove the ${t===s.TaxonomyType.Tag?"tag":"category"} from all articles.`,placeHolder:"Name of the "+(t===s.TaxonomyType.Tag?"tag":"category")});if(!p&&"no"===(yield o.window.showQuickPick(["yes","no"],{canPickMany:!1,placeHolder:`Delete ${u} ${t===s.TaxonomyType.Tag?"tag":"category"}?`})))return;const g=yield d.FilesHelper.getMdFiles();if(!g)return;let f=`${r.EXTENSION_NAME}: Remapping "${u}" ${t===s.TaxonomyType.Tag?"tag":"category"} to "${p}".`;p||(f=`${r.EXTENSION_NAME}: Deleting "${u}" ${t===s.TaxonomyType.Tag?"tag":"category"}.`),o.window.withProgress({location:o.ProgressLocation.Notification,title:f,cancellable:!1},(e=>i(this,void 0,void 0,(function*(){var i,r;const f=g.length/100;e.report({increment:0});const h=t===s.TaxonomyType.Tag?"tags":"categories";let m=0;for(const t of g){e.report({increment:++m/f});const n=a.readFileSync(t.path,{encoding:"utf8"});if(n)try{const e=c.FrontMatterParser.fromFile(n);if(e&&e.data){const{data:n}=e;let s=n[h];if(s&&s.length>0){const d=s.findIndex((e=>e===u));if(-1!==d){p?s[d]=p:s=s.filter((e=>e!==u)),n[h]=[...new Set(s)].sort();const l=null===(r=null===(i=o.window.activeTextEditor)||void 0===i?void 0:i.options)||void 0===r?void 0:r.tabSize;a.writeFileSync(t.path,c.FrontMatterParser.toFile(e.content,e.data,{indent:l||2}),{encoding:"utf8"})}}}}catch(e){}}const T=n.findIndex((e=>e===u));p?-1!==T?n[T]=p:n.push(p):n=n.filter((e=>e!==u)),yield d.Settings.updateTaxonomy(t,n),l.Notifications.info(`${p?"Remapping":"Deleation"} of the ${u} ${t===s.TaxonomyType.Tag?"tag":"category"} completed.`)}))))}))}}},9213:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.StatusListener=void 0;const o=n(4520),a=n(9496),s=n(9489),r=n(8424),d=n(4520),c=n(8020),l=n(7519),u=n(9496);t.StatusListener=class{static verify(e,t){return i(this,void 0,void 0,(function*(){const n=c.ContentType.getDraftField();n&&"boolean"===n.type||e.hide();let i=a.window.activeTextEditor;if(i&&s.ArticleHelper.isSupportedFile())try{u.commands.executeCommand("setContext",o.CONTEXT.isValidFile,!0);const n=s.ArticleHelper.getFrontMatter(i);if(n&&void 0!==n.data.draft&&(!0===n.data.draft?(e.text="$(book) in draft",e.show()):!1===n.data.draft&&(e.text="$(book) to publish",e.show())),n&&n.data){t.clear();const e=s.Settings.get(o.SETTING_SEO_TITLE_LENGTH)||-1,a=s.Settings.get(o.SETTING_SEO_DESCRIPTION_LENGTH)||-1,r=s.Settings.get(o.SETTING_SEO_DESCRIPTION_FIELD)||d.DefaultFields.Description;n.data.title&&e>-1&&s.SeoHelper.checkLength(i,t,n,"title",e),n.data[r]&&a>-1&&s.SeoHelper.checkLength(i,t,n,r,a)}const a=r.ExplorerView.getInstance();return void(a&&a.visible&&l.DataListener.pushMetadata(n.data))}catch(e){}else{u.commands.executeCommand("setContext",o.CONTEXT.isValidFile,!1);const e=r.ExplorerView.getInstance();e&&e.visible&&l.DataListener.pushMetadata(null)}e.hide()}))}}},7694:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Template=void 0;const o=n(3528),a=n(9496),s=n(1017),r=n(7147),d=n(4520),c=n(9489),l=n(5885),u=n(3062),p=n(4520),g=n(7672),f=n(1304),h=n(8020),m=n(1687),T=n(1017),v=n(5090);class y{static init(){return i(this,void 0,void 0,(function*(){const e=yield y.isInitialized();yield a.commands.executeCommand("setContext",p.CONTEXT.canInit,!e),e&&(yield a.commands.executeCommand("setContext",p.CONTEXT.initialized,!0))}))}static isInitialized(){return i(this,void 0,void 0,(function*(){const e=f.Folders.getWorkspaceFolder(),t=y.getSettings();if(!t||!e)return!1;const n=a.Uri.file(s.join(e.fsPath,t));try{return yield a.workspace.fs.stat(n),!0}catch(e){return!1}}))}static generate(){return i(this,void 0,void 0,(function*(){const e=y.getSettings(),t=a.window.activeTextEditor,n=c.Settings.get(d.SETTING_CONTENT_DEFAULT_FILETYPE);if(e&&t&&c.ArticleHelper.isSupportedFile()){const i=c.ArticleHelper.getFrontMatter(t),o=Object.assign({},i),d=yield a.window.showInputBox({prompt:"What name would you like to give your template?",placeHolder:"article"});if(!d)return void u.Notifications.warning("You did not specify a template title.");const l=yield a.window.showQuickPick(["yes","no"],{canPickMany:!1,placeHolder:"Do you want to keep the contents for the template?"});if(!l)return void u.Notifications.warning("You did not pick any of the options for keeping the template its content.");yield g.Project.init(!1);const p=g.Project.templatePath();if(p){let t=c.ArticleHelper.stringifyFrontMatter("no"===l?"":o.content,o.data);const i=s.join(p.fsPath,`${d}.${n}`);r.writeFileSync(i,t,{encoding:"utf-8"}),u.Notifications.info(`Template created and is now available in your ${e} folder.`)}}}))}static create(e){return i(this,void 0,void 0,(function*(){const t=c.Settings.get(d.SETTING_TEMPLATES_FOLDER),n=h.ContentType.getAll();if(!e)return void u.Notifications.warning("Incorrect project folder path retrieved.");if(!t)return void u.Notifications.warning("No templates found.");const i=yield a.workspace.findFiles(`${t}/**/*`,"**/node_modules/**,**/archetypes/**");if(!i||0===i.length)return void u.Notifications.warning("No templates found.");const p=yield a.window.showQuickPick(i.map((e=>s.basename(e.fsPath))),{placeHolder:"Select the content template to use"});if(!p)return void u.Notifications.warning("No template selected.");const g=yield o.Questions.ContentTitle();if(!g)return;const f=i.find((e=>e.fsPath.endsWith(p)));if(!f)return void u.Notifications.warning("Content template could not be found.");const y=c.ArticleHelper.getFrontMatterByPath(f.fsPath);let w;y&&y.data&&y.data.type&&(w=null==n?void 0:n.find((e=>e.name===y.data.type)));const S=(0,T.extname)(f.fsPath).replace(".","");let E=c.ArticleHelper.createContent(w,e,g,S);if(!E)return;r.copyFileSync(f.fsPath,E);let _=c.ArticleHelper.getFrontMatterByPath(E);if(!_)return void u.Notifications.warning("Something failed when retrieving the newly created file.");_.data&&(_.data=c.ArticleHelper.updatePlaceholders(_.data,g),_=l.Article.updateDate(_),r.writeFileSync(E,c.ArticleHelper.stringifyFrontMatter(_.content,_.data),{encoding:"utf8"}),yield a.commands.executeCommand("vscode.open",a.Uri.file(E)));const N=yield a.workspace.openTextDocument(a.Uri.parse(E));N&&a.window.showTextDocument(N),u.Notifications.info("Your new content has been created."),v.Telemetry.send(d.TelemetryEvent.createContentFromTemplate),m.PagesListener.refresh()}))}static getSettings(){return c.Settings.get(d.SETTING_TEMPLATES_FOLDER)}}t.Template=y},3457:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Wysiwyg=void 0;const o=n(9496),a=n(4520),s=n(9489);var r;!function(e){e[e.bold=1]="bold",e[e.italic=2]="italic",e[e.strikethrough=3]="strikethrough",e[e.code=4]="code",e[e.codeblock=5]="codeblock",e[e.blockquote=6]="blockquote",e[e.heading=7]="heading",e[e.unorderedList=8]="unorderedList",e[e.orderedList=9]="orderedList",e[e.taskList=10]="taskList"}(r||(r={})),t.Wysiwyg=class{static registerCommands(e){return i(this,void 0,void 0,(function*(){s.Settings.get(a.SETTING_CONTENT_WYSIWYG)&&(yield o.commands.executeCommand("setContext",a.CONTEXT.wysiwyg,!0),e.push(o.commands.registerCommand(a.COMMAND_NAME.bold,(()=>this.addMarkup(r.bold)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.italic,(()=>this.addMarkup(r.italic)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.strikethrough,(()=>this.addMarkup(r.strikethrough)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.code,(()=>this.addMarkup(r.code)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.codeblock,(()=>this.addMarkup(r.codeblock)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.heading,(()=>this.addMarkup(r.heading)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.blockquote,(()=>this.addMarkup(r.blockquote)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.unorderedlist,(()=>this.addMarkup(r.unorderedList)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.orderedlist,(()=>this.addMarkup(r.orderedList)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.taskList,(()=>this.addMarkup(r.taskList)))),e.push(o.commands.registerCommand(a.COMMAND_NAME.options,(()=>i(this,void 0,void 0,(function*(){const e=[{label:"$(list-unordered) Unordered list",detail:"Add an unordered list",alwaysShow:!0},{label:"$(list-ordered) Ordered list",detail:"Add an ordered list",alwaysShow:!0},{label:"$(tasklist) Task list",detail:"Add a task list",alwaysShow:!0},{label:"$(code) Code",detail:"Add inline code snippet",alwaysShow:!0},{label:"$(symbol-namespace) Code block",detail:"Add a code block",alwaysShow:!0},{label:"$(quote) Blockquote",detail:"Add a blockquote",alwaysShow:!0}],t=yield o.window.showQuickPick([...e],{placeHolder:"Which type of markup would you like to insert?",canPickMany:!1,ignoreFocusOut:!1});t&&(t.label===e[0].label?yield this.addMarkup(r.unorderedList):t.label===e[1].label?yield this.addMarkup(r.orderedList):t.label===e[2].label?yield this.addMarkup(r.taskList):t.label===e[3].label?yield this.addMarkup(r.code):t.label===e[4].label?yield this.addMarkup(r.codeblock):t.label===e[5].label&&(yield this.addMarkup(r.blockquote)))}))))))}))}static addMarkup(e){return i(this,void 0,void 0,(function*(){const t=o.window.activeTextEditor;if(!t)return;const n=t.selection,i=!n.isEmpty,a=this.getMarkers(e);if(!a)return;const s=n.active;if(i){const i=t.document.getText(n),o=yield this.insertText(a,e,i);t.edit((e=>{e.replace(n,o)}))}else{const n=yield this.insertText(a,e),i=this.isMarkupWrapping(e)?n.length+1:a.length;let d=s.with(s.line,s.character+i);yield t.edit((e=>{e.insert(d,n)})),e===r.codeblock&&(d=s.with(s.line+1,0)),t.selection=new o.Selection(d,d)}}))}static isMarkupWrapping(e){return e===r.blockquote||e===r.heading||e===r.unorderedList||e===r.orderedList||e===r.taskList}static insertText(e,t,n=null){return i(this,void 0,void 0,(function*(){const i=n||this.lineBreak(t);if(this.isMarkupWrapping(t)){if(t===r.heading){const t=yield o.window.showQuickPick(["Heading 1","Heading 2","Heading 3","Heading 4","Heading 5","Heading 6"],{canPickMany:!1,placeHolder:"Which heading level do you want to insert?",ignoreFocusOut:!1});if(t){const n=parseInt(t.replace("Heading ",""));return`${Array(n+1).join(e)} ${i}`}}return t===r.unorderedList||t===r.taskList?i.split("\n").map((t=>`${e} ${t}`)).join("\n"):t===r.orderedList?i.split("\n").map(((e,t)=>`${t+1}. ${e}`)).join("\n"):`${e} ${i}`}return`${e}${i}${e}`}))}static lineBreak(e){return e===r.codeblock?"\n\n":""}static getMarkers(e){switch(e){case r.bold:return"**";case r.italic:return"*";case r.strikethrough:return"~~";case r.code:return"`";case r.codeblock:return"```";case r.blockquote:return">";case r.heading:return"#";case r.unorderedList:return"-";case r.orderedList:return"1.";case r.taskList:return"- [ ]";default:return}}}},5885:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(7327),t),o(n(2541),t),o(n(9213),t)},7514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONTENT_TYPE=t.DEFAULT_CONTENT_TYPE_NAME=void 0,t.DEFAULT_CONTENT_TYPE_NAME="default",t.DEFAULT_CONTENT_TYPE={name:"default",pageBundle:!1,previewPath:null,fields:[{title:"Title",name:"title",type:"string"},{title:"Description",name:"description",type:"string"},{title:"Publishing date",name:"date",type:"datetime",default:"{{now}}",isPublishDate:!0},{title:"Content preview",name:"preview",type:"image"},{title:"Is in draft",name:"draft",type:"draft"},{title:"Tags",name:"tags",type:"tags"},{title:"Categories",name:"categories",type:"categories"}]}},3576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultFields=void 0,t.DefaultFields={PublishingDate:"date",LastModified:"lastmod",Description:"description",Slug:"slug"}},2889:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILE_TYPES=void 0,t.DEFAULT_FILE_TYPES=[".md",".markdown",".mdx"]},8019:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMMAND_NAME=t.getCommandName=t.EXTENSION_BETA_ID=t.EXTENSION_ID=void 0,t.EXTENSION_ID="eliostruyf.vscode-front-matter",t.EXTENSION_BETA_ID="eliostruyf.vscode-front-matter-beta",t.getCommandName=e=>`frontMatter.${e}`,t.COMMAND_NAME={init:(0,t.getCommandName)("init"),insertTags:(0,t.getCommandName)("insertTags"),insertCategories:(0,t.getCommandName)("insertCategories"),createTag:(0,t.getCommandName)("createTag"),createCategory:(0,t.getCommandName)("createCategory"),exportTaxonomy:(0,t.getCommandName)("exportTaxonomy"),remap:(0,t.getCommandName)("remap"),setLastModifiedDate:(0,t.getCommandName)("setLastModifiedDate"),generateSlug:(0,t.getCommandName)("generateSlug"),createFromTemplate:(0,t.getCommandName)("createFromTemplate"),toggleDraft:(0,t.getCommandName)("toggleDraft"),registerFolder:(0,t.getCommandName)("registerFolder"),unregisterFolder:(0,t.getCommandName)("unregisterFolder"),createContent:(0,t.getCommandName)("createContent"),createByContentType:(0,t.getCommandName)("createByContentType"),createByTemplate:(0,t.getCommandName)("createByTemplate"),createTemplate:(0,t.getCommandName)("createTemplate"),collapseSections:(0,t.getCommandName)("collapseSections"),preview:(0,t.getCommandName)("preview"),dashboard:(0,t.getCommandName)("dashboard"),dashboardMedia:(0,t.getCommandName)("dashboard.media"),dashboardSnippets:(0,t.getCommandName)("dashboard.snippets"),dashboardData:(0,t.getCommandName)("dashboard.data"),dashboardClose:(0,t.getCommandName)("dashboard.close"),promote:(0,t.getCommandName)("promoteSettings"),createFolder:(0,t.getCommandName)("createFolder"),diagnostics:(0,t.getCommandName)("diagnostics"),modeSwitch:(0,t.getCommandName)("mode.switch"),insertMedia:(0,t.getCommandName)("insertMedia"),insertSnippet:(0,t.getCommandName)("insertSnippet"),bold:(0,t.getCommandName)("markup.bold"),italic:(0,t.getCommandName)("markup.italic"),strikethrough:(0,t.getCommandName)("markup.strikethrough"),code:(0,t.getCommandName)("markup.code"),codeblock:(0,t.getCommandName)("markup.codeblock"),heading:(0,t.getCommandName)("markup.heading"),blockquote:(0,t.getCommandName)("markup.blockquote"),unorderedlist:(0,t.getCommandName)("markup.unorderedlist"),orderedlist:(0,t.getCommandName)("markup.orderedlist"),taskList:(0,t.getCommandName)("markup.tasklist"),options:(0,t.getCommandName)("markup.options"),generateContentType:(0,t.getCommandName)("contenttype.generate"),addMissingFields:(0,t.getCommandName)("contenttype.addMissingFields"),setContentType:(0,t.getCommandName)("contenttype.setContentType")}},3941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionState=void 0,t.ExtensionState={PagesView:"frontMatter:Pages:ViewType",SelectedFolder:"frontMatter:SelectedFolder",Version:"frontMatter:Version",SettingPromoted:"frontMatter:Settings:Promoted",MoveTemplatesFolder:"frontMatter:Templates:Move",Dashboard:{Contents:{Sorting:"frontMatter:Dashboard:Contents:Sorting"},Media:{Sorting:"frontMatter:Dashboard:Media:Sorting"},Pages:{Cache:"frontMatter:Dashboard:Pages:Cache",Index:"frontMatter:Dashboard:Pages:Index"}},Updates:{v7_0_0:{dateFields:"frontMatter:Updates:v7.0.0:dateFields"}}}},3466:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FEATURE_FLAG=void 0,t.FEATURE_FLAG={panel:{globalSettings:"panel.globalSettings",seo:"panel.seo",actions:"panel.actions",metadata:"panel.metadata",recentlyModified:"panel.recentlyModified",otherActions:"panel.otherActions",contentType:"panel.contentType"},dashboard:{snippets:{view:"dashboard.snippets.view",manage:"dashboard.snippets.manage"},data:{view:"dashboard.data.view"}}}},7022:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameworkDetectors=void 0,t.FrameworkDetectors=[{framework:{name:"gatsby",dist:"public",static:"static",build:"gatsby build"},requiredFiles:["gatsby-config.js"],requiredDependencies:["gatsby"],commands:{start:"npx gatsby develop"}},{framework:{name:"hugo",dist:"public",static:"static",build:"hugo"},requiredFiles:["config.toml","config.yaml","config.yml"],commands:{start:"hugo server -D"}},{framework:{name:"next",dist:".next",static:"public",build:"next build"},requiredFiles:["next.config.js"],requiredDependencies:["next"],commands:{start:"npx next dev"}},{framework:{name:"nuxt",dist:"dist",static:"static",build:"nuxt"},requiredFiles:["nuxt.config.js"],requiredDependencies:["nuxt"],commands:{start:"npx nuxt"}},{framework:{name:"jekyll",dist:"_site",static:"assets",build:"bundle exec jekyll build"},requiredFiles:["Gemfile"],requiredDependencies:["jekyll"],commands:{start:"bundle exec jekyll serve --livereload"}},{framework:{name:"docusaurus",dist:"build",static:"static",build:"npx docusaurus build"},requiredFiles:["docusaurus.config.js"],requiredDependencies:["@docusaurus/core"],commands:{start:"npx docusaurus start"}},{framework:{name:"11ty",dist:"_site",build:"npx @11ty/eleventy"},requiredDependencies:["@11ty/eleventy"],commands:{start:"npx @11ty/eleventy --serve"}}]},6757:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralCommands=void 0,(t.GeneralCommands||(t.GeneralCommands={})).setMode="setMode"},2610:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SENTRY_LINK=t.REVIEW_LINK=t.SPONSOR_LINK=t.ISSUE_LINK=t.GITHUB_LINK=void 0,t.GITHUB_LINK="https://github.com/estruyf/vscode-front-matter",t.ISSUE_LINK="https://github.com/estruyf/vscode-front-matter/issues",t.SPONSOR_LINK="https://github.com/sponsors/estruyf",t.REVIEW_LINK="https://marketplace.visualstudio.com/items?itemName=eliostruyf.vscode-front-matter&ssr=false#review-details",t.SENTRY_LINK="https://1ac45704bbe74264a7b4674bdc2abf48@o1022172.ingest.sentry.io/5988293"},2947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStore=void 0,t.LocalStore={rootFolder:".frontmatter",contentFolder:"content",templatesFolder:"templates",mediaDatabaseFile:"mediaDb.json"}},5917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HOME_PAGE_NAVIGATION_ID=void 0,t.HOME_PAGE_NAVIGATION_ID="FrontMatter:RootFolder"},2390:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewCommands=void 0,t.PreviewCommands={toVSCode:{open:"preview.open"},fromVSCode:{}}},4046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryEvent=void 0,t.TelemetryEvent={activate:"activate",initialization:"initialization",registerFolder:"registerFolder",unregisterFolder:"unregisterFolder",promoteSettings:"promoteSettings",openContentDashboard:"openContentDashboard",openMediaDashboard:"openMediaDashboard",openDataDashboard:"openDataDashboard",openSnippetsDashboard:"openSnippetsDashboard",closeDashboard:"closeDashboard",generateSlug:"generateSlug",createContentFromTemplate:"createContentFromTemplate",createContentFromContentType:"createContentFromContentType",addMediaFolder:"addMediaFolder",openPreview:"openPreview",uploadMedia:"uploadMedia",refreshMedia:"refreshMedia",deleteMedia:"deleteMedia",insertMediaToContent:"insertMediaToContent",insertFileToContent:"insertFileToContent",updateMediaMetadata:"updateMediaMetadata",openExplorerView:"openExplorerView",generateContentType:"generateContentType",addMissingFields:"addMissingFields",setContentType:"setContentType",runCustomScript:"runCustomScript",runMediaScript:"runMediaScript",webviewWelcomeScreen:"webviewWelcomeScreen",webviewMediaView:"webviewMediaView",webviewDataView:"webviewDataView",webviewContentsView:"webviewContentsView",webviewSnippetsView:"webviewSnippetsView"}},6686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9178:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.charMap=void 0,t.charMap={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"U",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"u",ű:"u",ý:"y",þ:"th",ÿ:"y",ẞ:"SS",α:"a",β:"b",γ:"g",δ:"d",ε:"e",ζ:"z",η:"h",θ:"8",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"3",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"w",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"h",ώ:"w",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"H",Θ:"8",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"3",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"W",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"H",Ώ:"W",Ϊ:"I",Ϋ:"Y",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"j",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"h",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"u",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"J",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"H",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"U",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"u"}},7011:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTEXT=void 0,t.CONTEXT={canInit:"frontMatter:CanInit",initialized:"frontMatter:Initialized",canOpenPreview:"frontMatter:CanOpenPreview",canOpenDashboard:"frontMatter:CanOpenDashboard",isEnabled:"frontMatter:enabled",isDashboardOpen:"frontMatter:dashboard:open",wysiwyg:"frontMatter:markdown:wysiwyg",backer:"frontMatter:backers:supporter",isValidFile:"frontMatter:file:isValid",hasViewModes:"frontMatter:has:modes",isSnippetsDashboardEnabled:"frontMatter:dashboard:snippets:enabled",isDataDashboardEnabled:"frontMatter:dashboard:data:enabled"}},4520:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(7514),t),o(n(3576),t),o(n(2889),t),o(n(8019),t),o(n(3941),t),o(n(3466),t),o(n(7022),t),o(n(6757),t),o(n(2610),t),o(n(2947),t),o(n(5917),t),o(n(2390),t),o(n(4046),t),o(n(6686),t),o(n(9178),t),o(n(7011),t),o(n(6941),t),o(n(8812),t)},6941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SETTING_DATA_TYPES=t.SETTING_DATA_FOLDERS=t.SETTING_DATA_FILES=t.SETTING_DASHBOARD_CONTENT_TAGS=t.SETTING_DASHBOARD_MEDIA_SNIPPET=t.SETTING_DASHBOARD_OPENONSTART=t.SETTING_MEDIA_SUPPORTED_MIMETYPES=t.SETTING_CONTENT_SUPPORTED_FILETYPES=t.SETTING_CONTENT_DEFAULT_FILETYPE=t.SETTING_MEDIA_SORTING_DEFAULT=t.SETTING_CONTENT_SORTING_DEFAULT=t.SETTING_CONTENT_SNIPPETS=t.SETTING_CONTENT_PLACEHOLDERS=t.SETTING_CONTENT_WYSIWYG=t.SETTING_CONTENT_SORTING=t.SETTING_CONTENT_DRAFT_FIELD=t.SETTING_CONTENT_FRONTMATTER_HIGHLIGHT=t.SETTING_CONTENT_STATIC_FOLDER=t.SETTING_CONTENT_PAGE_FOLDERS=t.SETTING_AUTO_UPDATE_DATE=t.SETTING_CUSTOM_SCRIPTS=t.SETTING_PREVIEW_PATHNAME=t.SETTING_PREVIEW_HOST=t.SETTING_PANEL_FREEFORM=t.SETTING_TELEMETRY_DISABLE=t.SETTING_TEMPLATES_PREFIX=t.SETTING_TEMPLATES_FOLDER=t.SETTING_SEO_DESCRIPTION_FIELD=t.SETTING_SEO_CONTENT_MIN_LENGTH=t.SETTING_SEO_DESCRIPTION_LENGTH=t.SETTING_SEO_SLUG_LENGTH=t.SETTING_SEO_TITLE_LENGTH=t.SETTING_FRONTMATTER_TYPE=t.SETTING_REMOVE_QUOTES=t.SETTING_INDENT_ARRAY=t.SETTING_SLUG_UPDATE_FILE_NAME=t.SETTING_SLUG_SUFFIX=t.SETTING_SLUG_PREFIX=t.SETTING_TAXONOMY_CONTENT_TYPES=t.SETTING_COMMA_SEPARATED_FIELDS=t.SETTING_DATE_FORMAT=t.SETTING_TAXONOMY_FIELD_GROUPS=t.SETTING_TAXONOMY_CUSTOM=t.SETTING_TAXONOMY_CATEGORIES=t.SETTING_TAXONOMY_TAGS=t.SETTING_GLOBAL_ACTIVE_MODE=t.SETTING_GLOBAL_MODES=t.SETTING_GLOBAL_NOTIFICATIONS=t.CONFIG_KEY=t.EXTENSION_NAME=void 0,t.SETTING_MODIFIED_FIELD=t.SETTING_DATE_FIELD=t.SETTING_CONTENT_FOLDERS=t.SETTING_SITE_BASEURL=t.SETTING_FRAMEWORK_START=t.SETTING_FRAMEWORK_ID=t.SETTING_FILE_PRESERVE_CASING=void 0,t.EXTENSION_NAME="Front Matter",t.CONFIG_KEY="frontMatter",t.SETTING_GLOBAL_NOTIFICATIONS="global.notifications",t.SETTING_GLOBAL_MODES="global.modes",t.SETTING_GLOBAL_ACTIVE_MODE="global.activeMode",t.SETTING_TAXONOMY_TAGS="taxonomy.tags",t.SETTING_TAXONOMY_CATEGORIES="taxonomy.categories",t.SETTING_TAXONOMY_CUSTOM="taxonomy.customTaxonomy",t.SETTING_TAXONOMY_FIELD_GROUPS="taxonomy.fieldGroups",t.SETTING_DATE_FORMAT="taxonomy.dateFormat",t.SETTING_COMMA_SEPARATED_FIELDS="taxonomy.commaSeparatedFields",t.SETTING_TAXONOMY_CONTENT_TYPES="taxonomy.contentTypes",t.SETTING_SLUG_PREFIX="taxonomy.slugPrefix",t.SETTING_SLUG_SUFFIX="taxonomy.slugSuffix",t.SETTING_SLUG_UPDATE_FILE_NAME="taxonomy.alignFilename",t.SETTING_INDENT_ARRAY="taxonomy.indentArrays",t.SETTING_REMOVE_QUOTES="taxonomy.noPropertyValueQuotes",t.SETTING_FRONTMATTER_TYPE="taxonomy.frontMatterType",t.SETTING_SEO_TITLE_LENGTH="taxonomy.seoTitleLength",t.SETTING_SEO_SLUG_LENGTH="taxonomy.seoSlugLength",t.SETTING_SEO_DESCRIPTION_LENGTH="taxonomy.seoDescriptionLength",t.SETTING_SEO_CONTENT_MIN_LENGTH="taxonomy.seoContentLengh",t.SETTING_SEO_DESCRIPTION_FIELD="taxonomy.seoDescriptionField",t.SETTING_TEMPLATES_FOLDER="templates.folder",t.SETTING_TEMPLATES_PREFIX="templates.prefix",t.SETTING_TELEMETRY_DISABLE="telemetry.disable",t.SETTING_PANEL_FREEFORM="panel.freeform",t.SETTING_PREVIEW_HOST="preview.host",t.SETTING_PREVIEW_PATHNAME="preview.pathName",t.SETTING_CUSTOM_SCRIPTS="custom.scripts",t.SETTING_AUTO_UPDATE_DATE="content.autoUpdateDate",t.SETTING_CONTENT_PAGE_FOLDERS="content.pageFolders",t.SETTING_CONTENT_STATIC_FOLDER="content.publicFolder",t.SETTING_CONTENT_FRONTMATTER_HIGHLIGHT="content.fmHighlight",t.SETTING_CONTENT_DRAFT_FIELD="content.draftField",t.SETTING_CONTENT_SORTING="content.sorting",t.SETTING_CONTENT_WYSIWYG="content.wysiwyg",t.SETTING_CONTENT_PLACEHOLDERS="content.placeholders",t.SETTING_CONTENT_SNIPPETS="content.snippets",t.SETTING_CONTENT_SORTING_DEFAULT="content.defaultSorting",t.SETTING_MEDIA_SORTING_DEFAULT="content.defaultSorting",t.SETTING_CONTENT_DEFAULT_FILETYPE="content.defaultFileType",t.SETTING_CONTENT_SUPPORTED_FILETYPES="content.supportedFileTypes",t.SETTING_MEDIA_SUPPORTED_MIMETYPES="media.supportedMimeTypes",t.SETTING_DASHBOARD_OPENONSTART="dashboard.openOnStart",t.SETTING_DASHBOARD_MEDIA_SNIPPET="dashboard.mediaSnippet",t.SETTING_DASHBOARD_CONTENT_TAGS="dashboard.content.cardTags",t.SETTING_DATA_FILES="data.files",t.SETTING_DATA_FOLDERS="data.folders",t.SETTING_DATA_TYPES="data.types",t.SETTING_FILE_PRESERVE_CASING="file.preserveCasing",t.SETTING_FRAMEWORK_ID="framework.id",t.SETTING_FRAMEWORK_START="framework.startCommand",t.SETTING_SITE_BASEURL="site.baseURL",t.SETTING_CONTENT_FOLDERS="content.folders",t.SETTING_DATE_FIELD="taxonomy.dateField",t.SETTING_MODIFIED_FIELD="taxonomy.modifiedField"},8812:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stopWords=void 0,t.stopWords=["a","able","about","above","abroad","according","accordingly","across","actually","adj","after","afterwards","again","against","ago","ahead","ain't","all","allow","allows","almost","alone","along","alongside","already","also","although","always","am","amid","amidst","among","amongst","an","and","another","any","anybody","anyhow","anyone","anything","anyway","anyways","anywhere","apart","appear","appreciate","appropriate","are","aren't","around","as","a's","aside","ask","asking","associated","at","available","away","awfully","b","back","backward","backwards","be","became","because","become","becomes","becoming","been","before","beforehand","begin","behind","being","believe","below","beside","besides","best","better","between","beyond","both","brief","but","by","c","came","can","cannot","cant","can't","caption","cause","causes","certain","certainly","changes","clearly","c'mon","co","co.","com","come","comes","concerning","consequently","consider","considering","contain","containing","contains","corresponding","could","couldn't","course","c's","currently","d","dare","daren't","definitely","described","despite","did","didn't","different","directly","do","does","doesn't","doing","done","don't","down","downwards","during","e","each","edu","eg","eight","eighty","either","else","elsewhere","end","ending","enough","entirely","especially","et","etc","even","ever","evermore","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","f","fairly","far","farther","few","fewer","fifth","first","five","followed","following","follows","for","forever","former","formerly","forth","forward","found","four","from","further","furthermore","g","get","gets","getting","given","gives","go","goes","going","gone","got","gotten","greetings","h","had","hadn't","half","happens","hardly","has","hasn't","have","haven't","having","he","he'd","he'll","hello","help","hence","her","here","hereafter","hereby","herein","here's","hereupon","hers","herself","he's","hi","him","himself","his","hither","hopefully","how","howbeit","however","hundred","i","i'd","ie","if","ignored","i'll","i'm","immediate","in","inasmuch","inc","inc.","indeed","indicate","indicated","indicates","inner","inside","insofar","instead","into","inward","is","isn't","it","it'd","it'll","its","it's","itself","i've","j","just","k","keep","keeps","kept","know","known","knows","l","last","lately","later","latter","latterly","least","less","lest","let","let's","like","liked","likely","likewise","little","look","looking","looks","low","lower","ltd","m","made","mainly","make","makes","many","may","maybe","mayn't","me","mean","meantime","meanwhile","merely","might","mightn't","mine","minus","miss","more","moreover","most","mostly","mr","mrs","much","must","mustn't","my","myself","n","name","namely","nd","near","nearly","necessary","need","needn't","needs","neither","never","neverf","neverless","nevertheless","new","next","nine","ninety","no","nobody","non","none","nonetheless","noone","no-one","nor","normally","not","nothing","notwithstanding","novel","now","nowhere","o","obviously","of","off","often","oh","ok","okay","old","on","once","one","ones","one's","only","onto","opposite","or","other","others","otherwise","ought","oughtn't","our","ours","ourselves","out","outside","over","overall","own","p","particular","particularly","past","per","perhaps","placed","please","plus","possible","presumably","probably","provided","provides","q","que","quite","qv","r","rather","rd","re","really","reasonably","recent","recently","regarding","regardless","regards","relatively","respectively","right","round","s","said","same","saw","say","saying","says","second","secondly","see","seeing","seem","seemed","seeming","seems","seen","self","selves","sensible","sent","serious","seriously","seven","several","shall","shan't","she","she'd","she'll","she's","should","shouldn't","since","six","so","some","somebody","someday","somehow","someone","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specified","specify","specifying","still","sub","such","sup","sure","t","take","taken","taking","tell","tends","th","than","thank","thanks","thanx","that","that'll","thats","that's","that've","the","their","theirs","them","themselves","then","thence","there","thereafter","thereby","there'd","therefore","therein","there'll","there're","theres","there's","thereupon","there've","these","they","they'd","they'll","they're","they've","thing","things","think","third","thirty","this","thorough","thoroughly","those","though","three","through","throughout","thru","thus","till","to","together","too","took","toward","towards","tried","tries","truly","try","trying","t's","twice","two","u","un","under","underneath","undoing","unfortunately","unless","unlike","unlikely","until","unto","up","upon","upwards","us","use","used","useful","uses","using","usually","v","value","various","versus","very","via","viz","vs","w","want","wants","was","wasn't","way","we","we'd","welcome","well","we'll","went","were","we're","weren't","we've","what","whatever","what'll","what's","what've","when","whence","whenever","where","whereafter","whereas","whereby","wherein","where's","whereupon","wherever","whether","which","whichever","while","whilst","whither","who","who'd","whoever","whole","who'll","whom","whomever","who's","whose","why","will","willing","wish","with","within","without","wonder","won't","would","wouldn't","x","y","yes","yet","you","you'd","you'll","your","you're","yours","yourself","yourselves","you've","z","zero"]},9395:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardCommand=void 0,(n=t.DashboardCommand||(t.DashboardCommand={})).loading="loading",n.pages="pages",n.searchPages="searchPages",n.settings="settings",n.media="media",n.viewData="viewData",n.mediaUpdate="mediaUpdate",n.dataFileEntries="dataFileEntries",n.searchReady="searchReady"},5573:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardMessage=void 0,(n=t.DashboardMessage||(t.DashboardMessage={})).getViewType="getViewType",n.reload="reload",n.setPageViewType="setPageViewType",n.getMode="getMode",n.showWarning="showWarning",n.initializeProject="initializeProject",n.setFramework="setFramework",n.addFolder="addFolder",n.getData="getData",n.createContent="createContent",n.createByContentType="createByContentType",n.createByTemplate="createByTemplate",n.refreshPages="refreshPages",n.searchPages="searchPages",n.openFile="openFile",n.deleteFile="deleteFile",n.getMedia="getMedia",n.copyToClipboard="copyToClipboard",n.refreshMedia="refreshMedia",n.uploadMedia="uploadMedia",n.deleteMedia="deleteMedia",n.revealMedia="revealMedia",n.insertMedia="insertMedia",n.updateMediaMetadata="updateMediaMetadata",n.createMediaFolder="createMediaFolder",n.insertFile="insertFile",n.getDataEntries="getDataEntries",n.putDataEntries="putDataEntries",n.insertSnippet="insertSnippet",n.addSnippet="addSnippet",n.updateSnippet="updateSnippet",n.getTheme="getTheme",n.updateSetting="updateSetting",n.setState="setState",n.runCustomScript="runCustomScript",n.sendTelemetry="sendTelemetry"},5173:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SortOption=void 0,(n=t.SortOption||(t.SortOption={})).PublishedAsc="PublishedAsc",n.PublishedDesc="PublishedDesc",n.LastModifiedAsc="LastModifiedAsc",n.LastModifiedDesc="LastModifiedDesc",n.FileNameAsc="FileNameAsc",n.FileNameDesc="FileNameDesc",n.SizeAsc="SizeAsc",n.SizeDesc="SizeDesc",n.CaptionAsc="CaptionAsc",n.CaptionDesc="CaptionDesc",n.AltAsc="AltAsc",n.AltDesc="AltDesc"},2858:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardViewType=void 0,(n=t.DashboardViewType||(t.DashboardViewType={}))[n.Grid=1]="Grid",n[n.List=2]="List"},8101:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationType=void 0,(n=t.NavigationType||(t.NavigationType={})).Contents="contents",n.Media="media",n.Data="data",n.Snippets="snippets"},1426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2694:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Status=void 0,(n=t.Status||(t.Status={}))[n.Active=1]="Active",n[n.Completed=2]="Completed",n[n.NotStarted=3]="NotStarted"},6452:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(2858),t),o(n(8101),t),o(n(1426),t),o(n(5619),t),o(n(237),t),o(n(2694),t)},8424:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ExplorerView=void 0;const o=n(7519),a=n(4520),s=n(9496),r=n(9489),d=n(7650),c=n(1002),l=n(8099),u=n(2813),p=n(5090),g=n(4118);class f{constructor(e){this.extPath=e,this.panel=null,this.disposable=null}static getInstance(e){return f.instance||(f.instance=new f(e)),f.instance}get visible(){return!!this.panel&&this.panel.visible}dispose(){this.disposable&&this.disposable.dispose()}getWebview(){var e;return null===(e=this.panel)||void 0===e?void 0:e.webview}resolveWebviewView(e,t,n){return i(this,void 0,void 0,(function*(){this.panel=e,e.webview.options={enableScripts:!0,enableCommandUris:!0},e.webview.html=this.getWebviewContent(e.webview),this.disposable=s.Disposable.from(e.onDidDispose((()=>{e.webview.html=""}),this)),e.webview.onDidReceiveMessage((e=>i(this,void 0,void 0,(function*(){r.Logger.info(`Receiving message from webview to panel: ${e.command}`),o.ArticleListener.process(e),o.DataListener.process(e),o.ExtensionListener.process(e),o.MediaListener.process(e),o.ScriptListener.process(e),o.SettingsListener.process(e),o.TaxonomyListener.process(e),g.ModeListener.process(e)})))),e.onDidChangeVisibility((()=>{this.visible&&(p.Telemetry.send(a.TelemetryEvent.openExplorerView),o.DataListener.getFileData())})),s.window.onDidChangeActiveTextEditor((()=>{this.sendMessage({command:d.Command.loading,data:!0}),this.visible&&o.DataListener.getFileData()}),this),r.Settings.onConfigChange((e=>{o.SettingsListener.getSettings()}))}))}sendMessage(e){var t,n;null===(n=null===(t=this.panel)||void 0===t?void 0:t.webview)||void 0===n||n.postMessage(e)}triggerInputFocus(e){e===c.TagType.tags?this.sendMessage({command:d.Command.focusOnTags}):this.sendMessage({command:d.Command.focusOnCategories})}collapseAll(){this.sendMessage({command:d.Command.closeSections})}counts(e,t){return e[t.type]=(e[t.type]||0)+1,(t.children||[]).reduce(((e,t)=>this.counts(e,t)),e)}getWebviewContent(e){const t=u.Extension.getInstance(),n=t.extensionPath,i=e.asWebviewUri(s.Uri.joinPath(this.extPath,"assets/media","vscode.css")),o=e.asWebviewUri(s.Uri.joinPath(this.extPath,"assets/media","reset.css")),a=e.asWebviewUri(s.Uri.joinPath(this.extPath,"assets/media","styles.css")),r=l.WebviewHelper.getNonce(),d=t.getVersion(),c=t.isBetaVersion();let p="";const g=u.Extension.getInstance().isProductionMode;return p=g?e.asWebviewUri(s.Uri.joinPath(n,"dist","panelWebView.js")).toString():"http://localhost:9001/panelWebView.js",`\n      <!DOCTYPE html>\n      <html lang="en">\n      <head>\n        <meta http-equiv="Content-Security-Policy" content="${["default-src 'none';",`img-src vscode-file://vscode-app ${e.cspSource} https://api.visitorbadge.io 'self' 'unsafe-inline'`,"script-src 'unsafe-eval' "+(g?`'nonce-${r}'`:"http://localhost:9001 http://0.0.0.0:9001"),`style-src ${e.cspSource} 'self' 'unsafe-inline'`,`font-src ${e.cspSource}`,"connect-src https://o1022172.ingest.sentry.io "+(g?"":"ws://localhost:9001 ws://0.0.0.0:9001 http://localhost:9001 http://0.0.0.0:9001")].join("; ")}">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <link href="${o}" rel="stylesheet">\n        <link href="${i}" rel="stylesheet">\n        <link href="${a}" rel="stylesheet">\n\n        <title>Front Matter Panel</title>\n      </head>\n      <body>\n        <div id="app" data-isProd="${g}" data-environment="${c?"BETA":"main"}" data-version="${d.usedVersion}" ></div>\n\n        <img style="display:none" src="https://api.visitorbadge.io/api/combined?user=estruyf&repo=frontmatter-usage&countColor=%23263759&slug=panel-${d.installedVersion}" alt="Daily usage" />\n\n        <script ${g?`nonce="${r}"`:""} src="${p}"><\/script>\n      </body>\n      </html>\n    `}}t.ExplorerView=f,f.viewType="frontMatter.explorer"},112:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const o=n(9496),a=n(5090),s=n(8020),r=n(67),d=n(5885),c=n(1304),l=n(5429),u=n(7672),p=n(7694),g=n(4520),f=n(7554),h=n(8848),m=n(1002),T=n(8424),v=n(2813),y=n(9489),w=n(325),S=n(1105),E=n(3457),_=n(1319),N=n(1687),M=n(5454),b=n(7519),C=n(6452),O=n(4824);let P,D,F;t.activate=function(e){return i(this,void 0,void 0,(function*(){const{subscriptions:t,extensionUri:n,extensionPath:k}=e,L=v.Extension.getInstance(e);if(M.Backers.init(e),!L.checkIfExtensionCanRun())return;y.Settings.init(),L.migrateSettings(),y.Settings.checkToPromote(),a.Telemetry.send(g.TelemetryEvent.activate),N.PagesListener.startWatchers(),F=o.languages.createDiagnosticCollection("frontMatter"),r.Dashboard.init(),t.push(o.commands.registerCommand(g.COMMAND_NAME.dashboard,(e=>{a.Telemetry.send(g.TelemetryEvent.openContentDashboard),e?r.Dashboard.open(e):r.Dashboard.open({type:C.NavigationType.Contents})}))),t.push(o.commands.registerCommand(g.COMMAND_NAME.dashboardMedia,(e=>{a.Telemetry.send(g.TelemetryEvent.openMediaDashboard),r.Dashboard.open({type:C.NavigationType.Media})}))),t.push(o.commands.registerCommand(g.COMMAND_NAME.dashboardSnippets,(e=>{a.Telemetry.send(g.TelemetryEvent.openSnippetsDashboard),r.Dashboard.open({type:C.NavigationType.Snippets})}))),t.push(o.commands.registerCommand(g.COMMAND_NAME.dashboardData,(e=>{a.Telemetry.send(g.TelemetryEvent.openDataDashboard),r.Dashboard.open({type:C.NavigationType.Data})}))),t.push(o.commands.registerCommand(g.COMMAND_NAME.dashboardClose,(e=>{a.Telemetry.send(g.TelemetryEvent.closeDashboard),r.Dashboard.close()}))),L.getVersion().usedVersion||o.commands.executeCommand(g.COMMAND_NAME.dashboard);const G=T.ExplorerView.getInstance(n),j=o.window.registerWebviewViewProvider(T.ExplorerView.viewType,G,{webviewOptions:{retainContextWhenHidden:!0}});h.MarkdownFoldingProvider.register();const R=o.commands.registerCommand(g.COMMAND_NAME.insertTags,(()=>i(this,void 0,void 0,(function*(){yield o.commands.executeCommand("workbench.view.extension.frontmatter-explorer"),yield o.commands.executeCommand("workbench.action.focusSideBar"),G.triggerInputFocus(m.TagType.tags)})))),$=o.commands.registerCommand(g.COMMAND_NAME.insertCategories,(()=>i(this,void 0,void 0,(function*(){yield o.commands.executeCommand("workbench.view.extension.frontmatter-explorer"),yield o.commands.executeCommand("workbench.action.focusSideBar"),G.triggerInputFocus(m.TagType.categories)})))),H=o.commands.registerCommand(g.COMMAND_NAME.createTag,(()=>{d.Settings.create(f.TaxonomyType.Tag)})),W=o.commands.registerCommand(g.COMMAND_NAME.createCategory,(()=>{d.Settings.create(f.TaxonomyType.Category)})),U=o.commands.registerCommand(g.COMMAND_NAME.exportTaxonomy,d.Settings.export),B=o.commands.registerCommand(g.COMMAND_NAME.remap,d.Settings.remap),V=o.commands.registerCommand(g.COMMAND_NAME.setLastModifiedDate,d.Article.setLastModifiedDate),Y=o.commands.registerCommand(g.COMMAND_NAME.generateSlug,d.Article.generateSlug),X=o.commands.registerCommand(g.COMMAND_NAME.createFromTemplate,(e=>{const t=c.Folders.getFolderPath(e);t&&p.Template.create(t)}));let q=o.commands.registerCommand(g.COMMAND_NAME.createTemplate,p.Template.generate);const K=g.COMMAND_NAME.toggleDraft,z=o.commands.registerCommand(K,(()=>i(this,void 0,void 0,(function*(){yield d.Article.toggleDraft(),A("toggleDraft")})))),Q=o.commands.registerCommand(g.COMMAND_NAME.registerFolder,c.Folders.register),J=o.commands.registerCommand(g.COMMAND_NAME.unregisterFolder,c.Folders.unregister),Z=o.commands.registerCommand(g.COMMAND_NAME.createFolder,c.Folders.addMediaFolder),ee=o.commands.registerCommand(g.COMMAND_NAME.createByContentType,s.ContentType.createContent),te=o.commands.registerCommand(g.COMMAND_NAME.createByTemplate,c.Folders.create),ne=o.commands.registerCommand(g.COMMAND_NAME.createContent,w.Content.create);t.push(o.commands.registerCommand(g.COMMAND_NAME.generateContentType,s.ContentType.generate)),t.push(o.commands.registerCommand(g.COMMAND_NAME.addMissingFields,s.ContentType.addMissingFields)),t.push(o.commands.registerCommand(g.COMMAND_NAME.setContentType,s.ContentType.setContentType)),p.Template.init();const ie=o.commands.registerCommand(g.COMMAND_NAME.init,(e=>i(this,void 0,void 0,(function*(){yield u.Project.init(),e&&e()}))));t.push(o.commands.registerCommand(g.COMMAND_NAME.promote,y.Settings.promote));const oe=o.commands.registerCommand(g.COMMAND_NAME.collapseSections,(()=>{var e;null===(e=T.ExplorerView.getInstance())||void 0===e||e.collapseAll()}));y.Settings.onConfigChange((e=>{p.Template.init(),l.Preview.init(),b.SettingsListener.getSettings(),b.DataListener.getFoldersAndFiles(),h.MarkdownFoldingProvider.triggerHighlighting(),O.ModeSwitch.register()})),P=o.window.createStatusBarItem(o.StatusBarAlignment.Left,100),P.command=K,t.push(P),D=x(),t.push(o.window.onDidChangeActiveTextEditor((()=>A("onDidChangeActiveTextEditor")))),t.push(o.window.onDidChangeTextEditorSelection((e=>{e.kind===o.TextEditorSelectionChangeKind.Mouse&&D((()=>A("onDidChangeTextEditorSelection")),200)}))),t.push(o.workspace.onDidChangeTextDocument((e=>{const t=e.document.uri.fsPath;t&&!t.toLowerCase().startsWith("extension-output")&&D((()=>A("onDidChangeTextEditorSelection")),200)}))),A("triggerShowDraftStatus"),t.push(o.workspace.onWillSaveTextDocument(I)),t.push(N.PagesListener.saveFileWatcher()),l.Preview.init(),t.push(o.commands.registerCommand(g.COMMAND_NAME.preview,(()=>l.Preview.open(k)))),t.push(o.commands.registerCommand(g.COMMAND_NAME.insertMedia,d.Article.insertMedia)),t.push(o.commands.registerCommand(g.COMMAND_NAME.insertSnippet,d.Article.insertSnippet)),t.push(o.workspace.registerTextDocumentContentProvider(S.default.scheme,new S.default)),E.Wysiwyg.registerCommands(t),O.ModeSwitch.register(),t.push(o.commands.registerCommand(g.COMMAND_NAME.diagnostics,_.Diagnostics.show)),t.push(R,j,$,H,W,U,B,V,Y,X,q,z,Q,J,ne,ee,te,ie,oe,Z)}))},t.deactivate=function(){a.Telemetry.dispose()};const I=e=>{d.Article.autoUpdate(e)},A=e=>{y.Logger.info(`Triggering draft status update: ${e}`),D((()=>{d.StatusListener.verify(P,F)}),1e3)},x=()=>{let e;return(t,n)=>{clearTimeout(e),e=setTimeout(((...e)=>t.apply(e)),n)}}},1790:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleHelper=void 0;const o=n(8848),a=n(7514),s=n(9496),r=n(7147),d=n(4520),c=n(6372),l=n(9489),u=n(8809),p=n(3062),g=n(5885),f=n(1017),h=(n(8099),n(9590)),m=n(7147),T=n(2997),v=n(9496),y=n(2889),w=n(6133),S=n(1209);class E{static getFrontMatter(e){return E.getFrontMatterFromDocument(e.document)}static getFrontMatterFromDocument(e){const t=e.getText();return E.parseFile(t,e.fileName)}static getCurrent(){const e=s.window.activeTextEditor;if(!e)return;return E.getFrontMatter(e)||void 0}static getFrontMatterByPath(e){const t=r.readFileSync(e,{encoding:"utf-8"});return E.parseFile(t,e)}static update(e,t){return i(this,void 0,void 0,(function*(){const n=this.generateUpdate(e.document,t);yield e.edit((e=>e.replace(n.range,n.newText)))}))}static generateUpdate(e,t){const n=e.lineCount,i=new s.Range(new s.Position(0,0),new s.Position(n,0)),o=l.Settings.get(d.SETTING_REMOVE_QUOTES),a=l.Settings.get(d.SETTING_COMMA_SEPARATED_FIELDS),r=t.content.split("\n").pop(),c=void 0!==r&&""===r.trim();let u=this.stringifyFrontMatter(t.content,Object.assign({},t.data));if(!c){const e=u.split("\n"),t=e.pop();void 0!==t&&""===(null==t?void 0:t.trim())&&(u=e.join("\n"))}if(o&&o.length)for(const e of o)if(t&&t.data&&t.data[e])if(null==a?void 0:a.includes(e)){const n=t.data[e].join(", ");u=u.replace(`'${n}'`,n),u=u.replace(`"${n}"`,n)}else u=u.replace(`'${t.data[e]}'`,t.data[e]),u=u.replace(`"${t.data[e]}"`,t.data[e]);return s.TextEdit.replace(i,u)}static stringifyFrontMatter(e,t){var n,i;const o=l.Settings.get(d.SETTING_INDENT_ARRAY),a=l.Settings.get(d.SETTING_COMMA_SEPARATED_FIELDS),r=null===(i=null===(n=s.window.activeTextEditor)||void 0===n?void 0:n.options)||void 0===i?void 0:i.tabSize;if(a)for(const e of a)t[e]&&"object"==typeof t[e]&&(t[e]=t[e].join(", "));return c.FrontMatterParser.toFile(e,t,{noArrayIndent:!o,skipInvalid:!0,noCompatMode:!0,lineWidth:500,indent:r||2})}static isSupportedFile(e=null){var t,n,i;const o=l.Settings.get(d.SETTING_CONTENT_SUPPORTED_FILETYPES),a=o?o.map((e=>e.startsWith(".")?e:`.${e}`)):y.DEFAULT_FILE_TYPES,r=null===(t=null==e?void 0:e.languageId)||void 0===t?void 0:t.toLowerCase(),c=r&&["markdown","mdx"].includes(r);if(null!=e||(e=null===(n=s.window.activeTextEditor)||void 0===n?void 0:n.document),!c){const t=null===(i=null==e?void 0:e.fileName)||void 0===i?void 0:i.toLowerCase();return t&&a.findIndex((e=>t.endsWith(e)))>-1}return c}static getDate(e){if(!e||!e.data)return;const t=l.Settings.get(d.SETTING_DATE_FORMAT),n=E.getPublishDateField(e)||d.DefaultFields.PublishingDate;return void 0!==e.data[n]?t&&"string"==typeof t?(0,u.parse)(e.data[n],t,new Date):new Date(e.data[n]):void 0}static getPublishDateField(e){if(!e||!e.data)return;const t=E.getContentType(e.data).fields.find((e=>e.isPublishDate));return(null==t?void 0:t.name)||l.Settings.get(d.SETTING_DATE_FIELD)||d.DefaultFields.PublishingDate}static getModifiedDateField(e){if(!e||!e.data)return;const t=E.getContentType(e.data).fields.find((e=>e.isModifiedDate));return(null==t?void 0:t.name)||l.Settings.get(d.SETTING_MODIFIED_FIELD)||d.DefaultFields.LastModified}static getContentTypes(){return l.Settings.get(d.SETTING_TAXONOMY_CONTENT_TYPES)||[a.DEFAULT_CONTENT_TYPE]}static getContentType(e){const t=E.getContentTypes();if(!t||!e)return a.DEFAULT_CONTENT_TYPE;let n=t.find((t=>t.name===(e.type||a.DEFAULT_CONTENT_TYPE_NAME)));return n||(n=t.find((e=>e.name===a.DEFAULT_CONTENT_TYPE_NAME))),n?(n.fields||(n.fields=a.DEFAULT_CONTENT_TYPE.fields),n):a.DEFAULT_CONTENT_TYPE}static updateDates(e){const t=E.getContentType(e).fields.filter((e=>"datetime"===e.type));for(const n of t)void 0!==e[n.name]&&(e[n.name]=g.Article.formatDate(new Date));return e}static sanitize(e){const t=l.Settings.get(d.SETTING_FILE_PRESERVE_CASING);return(0,h.default)((t?e:e.toLowerCase()).replace(/ /g,"-"))}static createContent(e,t,n,i){c.FrontMatterParser.currentContent=null;const o=l.Settings.get(d.SETTING_TEMPLATES_PREFIX),a=l.Settings.get(d.SETTING_CONTENT_DEFAULT_FILETYPE),s=E.sanitize(n);let r;if(null==e?void 0:e.pageBundle){const n=(0,f.join)(t,s);if((0,m.existsSync)(n))return void p.Notifications.error(`A page bundle with the name ${s} already exists in ${t}`);(0,m.mkdirSync)(n),r=(0,f.join)(n,`index.${i||e.fileType||a}`)}else{let n=`${s}.${i||(null==e?void 0:e.fileType)||a}`;if(o&&"string"==typeof o&&(n=`${(0,u.format)(new Date,T.DateHelper.formatUpdate(o))}-${n}`),r=(0,f.join)(t,n),(0,m.existsSync)(r))return void p.Notifications.warning("Content with the title already exists. Please specify a new title.")}return r}static updatePlaceholders(e,t){const n=l.Settings.get(d.SETTING_DATE_FORMAT),i=Object.assign({},e);for(const e of Object.keys(i)){const o=i[e];"title"!==e||null!==o&&""!==o||(i[e]=t),"slug"!==e||null!==o&&""!==o||(i[e]=l.SlugHelper.createSlug(t)),i[e]=(0,S.processKnownPlaceholders)(i[e],t,n),i[e]=this.processCustomPlaceholders(i[e],t)}return i}static processCustomPlaceholders(e,t){if(e&&"string"==typeof e){const n=l.Settings.get(d.SETTING_DATE_FORMAT),i=l.Settings.get(d.SETTING_CONTENT_PLACEHOLDERS);if(i&&i.length>0)for(const o of i)if(e.includes(`{{${o.id}}}`)){const i=new RegExp(`{{${o.id}}}`,"g"),a=(0,S.processKnownPlaceholders)(o.value,t,n);e=e.replace(i,a)}}return e}static getDetails(){var e;const t=l.Settings.get(d.SETTING_SITE_BASEURL),n=v.window.activeTextEditor;if(!n)return null;if(!E.isSupportedFile())return null;const i=E.getFrontMatter(n);if(i&&i.content){let n=i.content;n=n.replace(/({{(.*?)}})/g,"");const o=(0,w.fromMarkdown)(n),a=this.getAllElms(o),s=a.filter((e=>"heading"===e.type)),r=a.filter((e=>"paragraph"===e.type)).length,d=a.filter((e=>"image"===e.type)).length,c=a.filter((e=>"link"===e.type)).map((e=>e.url)),l=c.filter((e=>!e.startsWith("http")||t&&e.toLowerCase().includes((t||"").toLowerCase()))).length;let u=c.filter((e=>e.startsWith("http")));t&&(u=u.filter((e=>!e.toLowerCase().includes(t.toLowerCase()))));const p=[];for(const t of s){const n=null===(e=null==t?void 0:t.children)||void 0===e?void 0:e.filter((e=>"text"===e.type)).map((e=>e.value)).join(" ");n&&p.push(n)}const g=this.wordCount(0,o);return{headings:s.length,headingsText:p,paragraphs:r,images:d,internalLinks:l,externalLinks:u.length,wordCount:g,content:i.content}}return null}static getAllElms(e,t){var n;if(t||(t=[]),(null===(n=e.children)||void 0===n?void 0:n.length)>0)for(const n of e.children)t.push(Object.assign({},n)),this.getAllElms(n,t);return t}static wordCount(e,t){return"text"===t.type?e+t.value.split(" ").length:(t.children||[]).reduce(((e,t)=>this.wordCount(e,t)),e)}static parseFile(e,t){var n;try{const i=l.Settings.get(d.SETTING_COMMA_SEPARATED_FIELDS);if(e){let o=c.FrontMatterParser.fromFile(e);if(null==o?void 0:o.data){if(i)for(const e of i)(null==o?void 0:o.data[e])&&"string"==typeof o.data[e]&&(o.data[e]=o.data[e].split(",").map((e=>e.trim())));return this.notifiedFiles=this.notifiedFiles.filter((e=>e!==t)),(null===(n=v.window.activeTextEditor)||void 0===n?void 0:n.document.uri)&&l.Extension.getInstance().diagnosticCollection.delete(v.window.activeTextEditor.document.uri),o}}}catch(e){l.Logger.error(`ArticleHelper::parseFile: ${t} - ${e.message}`);const n=v.window.activeTextEditor;if(null==n?void 0:n.document.uri){let i=null;if((null==e?void 0:e.mark)&&void 0!==e.mark.line){const t=n.document.lineAt(e.mark.line-1),o=new v.Position(e.mark.line-1,Math.max(t.text.length,0));i=new v.Range(new v.Position(e.mark.line-1,0),o)}else i=o.MarkdownFoldingProvider.getFrontMatterRange(n.document);i&&l.Extension.getInstance().diagnosticCollection.set(n.document.uri,[{severity:v.DiagnosticSeverity.Error,message:`${e.name?`${e.name}: `:""}Error parsing the front matter of ${t}`,range:i}])}}return null}}t.ArticleHelper=E,E.notifiedFiles=[]},8020:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentType=void 0;const o=n(7024),a=n(1687),s=n(9489),r=n(4520),d=n(9496),c=n(1304),l=n(3528),u=n(7147),p=n(3062),g=n(7514),f=n(5090),h=n(1209),m=n(1017);class T{static getDraftField(){return s.Settings.get(r.SETTING_CONTENT_DRAFT_FIELD)||null}static getDraftStatus(e){const t=s.ArticleHelper.getContentType(e),n=T.getDraftField(),i=t.fields.find((e=>"draft"===e.type));let o=null;return i?o=e[i.name]:n&&e&&e[n.name]&&(o=e[n.name]),n&&o?"boolean"===n.type?o?"Draft":"Published":o:null}static createContent(){return i(this,void 0,void 0,(function*(){const e=yield l.Questions.SelectContentType();if(!e)return;const t=yield l.Questions.SelectContentFolder();if(!t)return;const n=T.getAll(),i=c.Folders.get().find((e=>e.title===t));if(n&&i){const t=c.Folders.getFolderPath(d.Uri.file(i.path)),o=n.find((t=>t.name===e));t&&o&&T.create(o,t)}}))}static getAll(){return s.Settings.get(r.SETTING_TAXONOMY_CONTENT_TYPES)}static generate(){return i(this,void 0,void 0,(function*(){if(!(yield T.verify()))return;f.Telemetry.send(r.TelemetryEvent.generateContentType);const e=s.ArticleHelper.getCurrent(),t=d.window.activeTextEditor,n=null==t?void 0:t.document.uri.fsPath;if(!e||!e.data)return void p.Notifications.warning("No front matter data found to generate a content type.");const i="Yes"===(yield d.window.showQuickPick(["Yes","No"],{placeHolder:"Do you want to override the default content type?",ignoreFocusOut:!0,title:"Override default content type"}));let o="default";if(!i&&(o=yield d.window.showInputBox({ignoreFocusOut:!0,placeHolder:"Enter the name of the content type to generate",prompt:"Enter the name of the content type to generate",title:"Generate Content Type",validateInput:e=>{if(!e)return"Please enter a name for the content type";const t=T.getAll();return t&&t.find((t=>t.name.toLowerCase()===e.toLowerCase()))?"A content type with this name already exists":null}}),!o))return void p.Notifications.warning("You didn't specify a name for the content type.");let a=!1;const c=n?(0,m.basename)(n):void 0;(null==c?void 0:c.startsWith("index."))&&(a="Yes"===(yield d.window.showQuickPick(["Yes","No"],{placeHolder:"Do you want to use this content type as a page bundle?",ignoreFocusOut:!0,title:"Use as page bundle"})));const l=T.generateFields(e.data);i||l.some((e=>"type"===e.name))||l.push({name:"type",type:"string",default:o,hidden:!0}),!i&&t&&(e.data.type=o,s.ArticleHelper.update(t,e));const g={name:o,pageBundle:a,fields:l},h=T.getAll()||[];if(i){const e=h.findIndex((e=>e.name===o));h[e].fields=l}else h.push(g);s.Settings.update(r.SETTING_TAXONOMY_CONTENT_TYPES,h,!0);const v=s.Settings.projectConfigPath;"Open settings"===(yield p.Notifications.info(`Content type ${o} has been ${i?"updated":"generated"}.`,v&&(0,u.existsSync)(v)?"Open settings":void 0))&&v&&(0,u.existsSync)(v)&&d.commands.executeCommand("vscode.open",d.Uri.file(v))}))}static addMissingFields(){return i(this,void 0,void 0,(function*(){if(!(yield T.verify()))return;f.Telemetry.send(r.TelemetryEvent.addMissingFields);const e=s.ArticleHelper.getCurrent();if(!e||!e.data)return void p.Notifications.warning("No front matter data found to add missing fields.");const t=s.ArticleHelper.getContentType(null==e?void 0:e.data),n=T.generateFields(e.data,t.fields),i=T.getAll()||[],o=i.findIndex((e=>e.name===t.name));i[o].fields=n,s.Settings.update(r.SETTING_TAXONOMY_CONTENT_TYPES,i,!0);const a=s.Settings.projectConfigPath;"Open settings"===(yield p.Notifications.info(`Content type ${t.name} has been updated.`,a&&(0,u.existsSync)(a)?"Open settings":void 0))&&a&&(0,u.existsSync)(a)&&d.commands.executeCommand("vscode.open",d.Uri.file(a))}))}static setContentType(){return i(this,void 0,void 0,(function*(){if(!(yield T.verify()))return;f.Telemetry.send(r.TelemetryEvent.setContentType);const e=s.ArticleHelper.getCurrent(),t=T.getAll()||[];if(!e||!e.data)return void p.Notifications.warning("No front matter data found to set the content type.");const n=yield d.window.showQuickPick(t.map((e=>e.name)),{title:"Select the content type",ignoreFocusOut:!0,placeHolder:"Which content type would you like to use?"});if(!n)return;e.data.type=n;const i=d.window.activeTextEditor;s.ArticleHelper.update(i,e)}))}static generateFields(e,t=[]){for(const n in e){const i=e[n];if(!t.some((e=>e.name===n)))if(i&&i instanceof Array&&i.length>0&&"string"==typeof i[0])"tag"===n.toLowerCase()||"tags"===n.toLowerCase()?t.push({title:n,name:n,type:"tags"}):"category"===n.toLowerCase()||"categories"===n.toLowerCase()?t.push({title:n,name:n,type:"categories"}):t.push({title:n,name:n,type:"choice",choices:i});else if(i&&i instanceof Array&&i.length>0&&"object"==typeof i[0]){const e=T.generateFields(i);t.push({title:n,name:n,type:"block",fields:e})}else if(i&&i instanceof Object){const e=T.generateFields(i);t.push({title:n,name:n,type:"fields",fields:e})}else isNaN(new Date(i).getDate())?"draft"===n.toLowerCase()?t.push({title:n,name:n,type:"draft"}):"slug"===n.toLowerCase()||t.push({title:n,name:n,type:typeof i}):t.push({title:n,name:n,type:"datetime"})}return t}static create(e,t){return i(this,void 0,void 0,(function*(){const n=yield l.Questions.ContentTitle();if(!n)return;let i=s.ArticleHelper.createContent(e,t,n);if(!i)return;let o=this.processFields(e,n,{});o=s.ArticleHelper.updateDates(Object.assign({},o)),e.name!==g.DEFAULT_CONTENT_TYPE_NAME&&(o.type=e.name);const c=s.ArticleHelper.stringifyFrontMatter("",o);(0,u.writeFileSync)(i,c,{encoding:"utf8"}),yield d.commands.executeCommand("vscode.open",d.Uri.file(i)),p.Notifications.info("Your new content has been created."),f.Telemetry.send(r.TelemetryEvent.createContentFromContentType),a.PagesListener.refresh()}))}static processFields(e,t,n){if(e.fields){const i=s.Settings.get(r.SETTING_DATE_FORMAT);for(const o of e.fields)if("title"===o.name)o.default?(n[o.name]=(0,h.processKnownPlaceholders)(o.default,t,i),n[o.name]=s.ArticleHelper.processCustomPlaceholders(n[o.name],t)):n[o.name]=t;else if("fields"===o.type)n[o.name]=this.processFields(o,t,{});else{const e=o.default;"string"==typeof e?(n[o.name]=(0,h.processKnownPlaceholders)(e,t,i),n[o.name]=s.ArticleHelper.processCustomPlaceholders(n[o.name],t)):n[o.name]=void 0!==e?e:""}}return n}static verify(){return i(this,void 0,void 0,(function*(){return!!(yield o.ModeListener.hasFeature(r.FEATURE_FLAG.panel.contentType))||(p.Notifications.warning("The content type actions are not available in this mode."),!1)}))}}t.ContentType=T},4524:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,o){!function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)}(i,o,(t=e[n](t)).done,t.value)}))}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomScript=void 0;const a=n(1812),s=n(9496),r=n(9489),d=n(1304),c=n(2081),l=n(2037),u=n(1017),p=n(3062),g=n(1105),f=n(67),h=n(9395),m=n(4046);class T{static run(e,t=null){return i(this,void 0,void 0,(function*(){const n=d.Folders.getWorkspaceFolder();if(n){const i=n.fsPath;e.type===a.ScriptType.MediaFile||e.type===a.ScriptType.MediaFolder?(r.Telemetry.send(m.TelemetryEvent.runMediaScript),T.runMediaScript(i,t,e)):(r.Telemetry.send(m.TelemetryEvent.runCustomScript),e.bulk?T.bulkRun(i,e):t?T.singleRun(i,e,t):T.singleRun(i,e))}}))}static singleRun(e,t,n=null){return i(this,void 0,void 0,(function*(){let o=n,a=null;if(n)a=r.ArticleHelper.getFrontMatterByPath(n);else{const e=s.window.activeTextEditor;if(!e)return;o=e.document.uri.fsPath,a=r.ArticleHelper.getFrontMatter(e)}o&&a?s.window.withProgress({location:s.ProgressLocation.Notification,title:`Executing: ${t.title}`,cancellable:!1},(()=>i(this,void 0,void 0,(function*(){const n=yield T.runScript(e,a,o,t);T.showOutput(n,t)})))):p.Notifications.warning(`${t.title}: Article couldn't be retrieved.`)}))}static bulkRun(e,t){return i(this,void 0,void 0,(function*(){const n=yield d.Folders.getInfo();if(!n||0===n.length)return void p.Notifications.warning(`${t.title}: No files found.`);let a=[];s.window.withProgress({location:s.ProgressLocation.Notification,title:`Executing: ${t.title}`,cancellable:!1},((s,d)=>i(this,void 0,void 0,(function*(){var i,s,d,c;try{for(var l,u=o(n);!(l=yield u.next()).done;){const n=l.value;if(n.lastModified.length>0)try{for(var p,g=(d=void 0,o(n.lastModified));!(p=yield g.next()).done;){const n=p.value;try{const i=r.ArticleHelper.getFrontMatterByPath(n.filePath);if(i){const o=yield T.runScript(e,i,n.filePath,t);o&&a.push(o)}}catch(e){}}}catch(e){d={error:e}}finally{try{p&&!p.done&&(c=g.return)&&(yield c.call(g))}finally{if(d)throw d.error}}}}catch(e){i={error:e}}finally{try{l&&!l.done&&(s=u.return)&&(yield s.call(u))}finally{if(i)throw i.error}}T.showOutput(a.join("\n"),t)}))))}))}static runMediaScript(e,t,n){return i(this,void 0,void 0,(function*(){if(t)return new Promise(((o,a)=>{s.window.withProgress({location:s.ProgressLocation.Notification,title:`Executing: ${n.title}`,cancellable:!1},(()=>i(this,void 0,void 0,(function*(){(0,c.exec)(`${n.nodeBin||"node"} ${(0,u.join)(e,n.script)} "${e}" "${t}"`,((e,t)=>{if(e)return p.Notifications.error(`${n.title}: ${e.message}`),void o();T.showOutput(t,n),f.Dashboard.postWebviewMessage({command:h.DashboardCommand.mediaUpdate}),o()}))}))))}));p.Notifications.error(`${n.title}: There was no folder or media path specified.`)}))}static runScript(e,t,n,o){return i(this,void 0,void 0,(function*(){return new Promise(((i,a)=>{let s="";"Windows_NT"===l.type()?s=`"${JSON.stringify(null==t?void 0:t.data).replace(/"/g,'""')}"`:(s=JSON.stringify(null==t?void 0:t.data).replace(/'/g,"%27"),s=`'${s}'`),(0,c.exec)(`${o.nodeBin||"node"} ${(0,u.join)(e,o.script)} "${e}" "${n}" ${s}`,((e,t)=>{if(e)return p.Notifications.error(`${o.title}: ${e.message}`),void i(null);i(t)}))}))}))}static showOutput(e,t){e?"editor"===t.output?g.default.show(e,t.title,t.outputType||"text"):s.window.showInformationMessage(`${t.title}: ${e}`,"Copy output").then((t=>{"Copy output"===t&&s.env.clipboard.writeText(e)})):p.Notifications.info(`${t.title}: Executed your custom script.`)}}t.CustomScript=T},7442:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardSettings=void 0;const o=n(1017),a=n(9496),s=n(1304),r=n(7694),d=n(4520),c=n(7554),l=n(2813),u=n(5005),p=n(5491);t.DashboardSettings=class{static get(){return i(this,void 0,void 0,(function*(){const e=l.Extension.getInstance(),t=s.Folders.getWorkspaceFolder(),n=yield r.Template.isInitialized(),i=yield s.Folders.getContentFolders();return{beta:e.isBetaVersion(),wsFolder:t?t.fsPath:"",staticFolder:p.Settings.get(d.SETTING_CONTENT_STATIC_FOLDER),initialized:n,tags:p.Settings.getTaxonomy(c.TaxonomyType.Tag),categories:p.Settings.getTaxonomy(c.TaxonomyType.Category),openOnStart:p.Settings.get(d.SETTING_DASHBOARD_OPENONSTART),versionInfo:e.getVersion(),pageViewType:yield e.getState(d.ExtensionState.PagesView,"workspace"),mediaSnippet:p.Settings.get(d.SETTING_DASHBOARD_MEDIA_SNIPPET)||[],contentTypes:p.Settings.get(d.SETTING_TAXONOMY_CONTENT_TYPES)||[],draftField:p.Settings.get(d.SETTING_CONTENT_DRAFT_FIELD),customSorting:p.Settings.get(d.SETTING_CONTENT_SORTING),contentFolders:s.Folders.get(),crntFramework:p.Settings.get(d.SETTING_FRAMEWORK_ID),framework:!n&&t?u.FrameworkDetector.get(t.fsPath):null,scripts:p.Settings.get(d.SETTING_CUSTOM_SCRIPTS)||[],date:{format:p.Settings.get(d.SETTING_DATE_FORMAT)||""},dashboardState:{contents:{sorting:yield e.getState(d.ExtensionState.Dashboard.Contents.Sorting,"workspace"),defaultSorting:p.Settings.get(d.SETTING_CONTENT_SORTING_DEFAULT),tags:p.Settings.get(d.SETTING_DASHBOARD_CONTENT_TAGS)},media:{sorting:yield e.getState(d.ExtensionState.Dashboard.Media.Sorting,"workspace"),defaultSorting:p.Settings.get(d.SETTING_MEDIA_SORTING_DEFAULT),selectedFolder:yield e.getState(d.ExtensionState.SelectedFolder,"workspace"),mimeTypes:p.Settings.get(d.SETTING_MEDIA_SUPPORTED_MIMETYPES)},welcome:{contentFolders:i}},dataFiles:yield this.getDataFiles(),dataTypes:p.Settings.get(d.SETTING_DATA_TYPES),snippets:p.Settings.get(d.SETTING_CONTENT_SNIPPETS),isBacker:yield e.getState(d.CONTEXT.backer,"global")}}))}static getDataFiles(){var e;return i(this,void 0,void 0,(function*(){const t=null===(e=s.Folders.getWorkspaceFolder())||void 0===e?void 0:e.fsPath,n=p.Settings.get(d.SETTING_DATA_FILES),i=p.Settings.get(d.SETTING_DATA_FOLDERS);let r=Object.assign([],n);if(i)for(let e of i){if(!e.path)continue;const n=s.Folders.getAbsFilePath(e.path);if(!n)continue;let i=(0,o.join)(n.replace(t||"",""));i.startsWith("/")&&(i=i.substring(1));const d=[...yield a.workspace.findFiles((0,o.join)(i,"*.json")),...yield a.workspace.findFiles((0,o.join)(i,"*.yml")),...yield a.workspace.findFiles((0,o.join)(i,"*.yaml"))];for(let t of d)r.push({id:(0,o.basename)(t.fsPath),title:(0,o.basename)(t.fsPath),file:t.fsPath,fileType:t.fsPath.endsWith(".json")?"json":"yaml",labelField:e.labelField,schema:e.schema,type:e.type})}return r}))}}},2997:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateHelper=void 0;const i=n(8809);class o{static formatUpdate(e){return e?e=(e=e.replace(/YYYY/g,"yyyy")).replace(/DD/g,"dd"):null}static tryParse(e,t){if(!e)return null;if(e instanceof Date)return e;if("string"==typeof e){const n=o.tryParseJson(e);if(o.isValid(n))return n;const i=o.tryParseIso(e);if(o.isValid(i))return i;if(t){const n=o.tryFormatParse(e,t);if(o.isValid(n))return n}}return null}static isValid(e){return e instanceof Date&&!isNaN(null==e?void 0:e.getTime())}static tryFormatParse(e,t){try{return(0,i.parse)(e,t,new Date)}catch(e){return null}}static tryParseJson(e){try{return(0,i.parseJSON)(e)}catch(e){return null}}static tryParseIso(e){try{return(0,i.parseISO)(e)}catch(e){return null}}}t.DateHelper=o},2813:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Extension=void 0;const o=n(1017),a=n(9496),s=n(1304),r=n(4520),d=n(3062),c=n(5491);class l{constructor(e){this.ctx=e,this._collection=a.languages.createDiagnosticCollection(this.title)}static getInstance(e){return!l.instance&&e&&(l.instance=new l(e)),l.instance}getVersion(){let e=a.extensions.getExtension(this.isBetaVersion()?r.EXTENSION_BETA_ID:r.EXTENSION_ID).packageJSON.version;const t=this.ctx.globalState.get(r.ExtensionState.Version);if(this.isBetaVersion()&&(e=`${e}-beta`),t!==e){const t="Check the changelog",n="Give it a ⭐️",i={title:t,run:()=>{const e=a.Uri.file(`${l.getInstance().extensionPath.fsPath}/CHANGELOG.md`);a.workspace.openTextDocument(e).then((()=>{a.commands.executeCommand("markdown.showPreview",e)}))}},o={title:n,run:()=>{a.commands.executeCommand("vscode.open",a.Uri.parse(r.GITHUB_LINK))}};a.window.showInformationMessage(`${r.EXTENSION_NAME} has been updated to v${e} — check out what's new!`,o,i).then((e=>{(null==e?void 0:e.title)!==t&&(null==e?void 0:e.title)!==n||e.run()})),this.setVersion(e)}return{usedVersion:t,installedVersion:e}}get title(){return this.ctx.extension.packageJSON.name}get displayName(){return this.ctx.extension.packageJSON.displayName}get version(){return this.ctx.extension.packageJSON.version}get isProductionMode(){return this.ctx.extensionMode===a.ExtensionMode.Production}get diagnosticCollection(){return this._collection}setVersion(e){this.ctx.globalState.update(r.ExtensionState.Version,e)}get extensionPath(){return this.ctx.extensionUri}migrateSettings(){return i(this,void 0,void 0,(function*(){const e=this.getVersion();if(void 0===e.usedVersion)return;if(!e.usedVersion)return;const t=e.usedVersion.split("."),n=parseInt(t[0]);if(parseInt(t[1]),parseInt(t[2]),c.Settings.hasSettings()&&c.Settings.createTeamSettings(),!(yield l.getInstance().getState(r.ExtensionState.Updates.v7_0_0.dateFields,"workspace"))){const e=c.Settings.inspect(r.SETTING_DATE_FIELD),t=c.Settings.inspect(r.SETTING_MODIFIED_FIELD);((null==e?void 0:e.workspaceValue)||(null==e?void 0:e.globalValue)||(null==e?void 0:e.teamValue)||(null==t?void 0:t.workspaceValue)||(null==t?void 0:t.globalValue)||(null==t?void 0:t.teamValue))&&d.Notifications.warning(`The "${r.CONFIG_KEY}.${r.SETTING_DATE_FIELD}" and "${r.CONFIG_KEY}.${r.SETTING_MODIFIED_FIELD}" settings have been deprecated. Please use the "isPublishDate" and "isModifiedDate" datetime field properties instead.`,"Hide","See migration guide").then((e=>i(this,void 0,void 0,(function*(){if("See migration guide"===e){const e=this.isProductionMode;a.commands.executeCommand("vscode.open",a.Uri.parse(`https://${e?"":"beta."}frontmatter.codes/docs/troubleshooting#publish-and-modified-date-migration`)),yield l.getInstance().setState(r.ExtensionState.Updates.v7_0_0.dateFields,!0,"workspace")}else"Hide"===e&&(yield l.getInstance().setState(r.ExtensionState.Updates.v7_0_0.dateFields,!0,"workspace"))}))))}if(n<7){const e=c.Settings.get(r.SETTING_CONTENT_PAGE_FOLDERS),t=s.Folders.getWorkspaceFolder();if(t){let n=!1;for(const i of e)-1!==i.path.indexOf(t.fsPath)&&(n=!0,i.path=s.Folders.relWsFolder(i,t));n&&s.Folders.update(e)}}}))}setState(e,t,n="global"){return i(this,void 0,void 0,(function*(){"global"===n?yield this.ctx.globalState.update(e,t):yield this.ctx.workspaceState.update(e,t)}))}getState(e,t="global"){return i(this,void 0,void 0,(function*(){return"global"===t?yield this.ctx.globalState.get(e):yield this.ctx.workspaceState.get(e)}))}isBetaVersion(){return(0,o.basename)(this.ctx.globalStorageUri.fsPath)===r.EXTENSION_BETA_ID}checkIfExtensionCanRun(){return!this.isBetaVersion()||!a.extensions.getExtension(r.EXTENSION_ID)||(d.Notifications.error("Front Matter BETA cannot be used while the main version is installed. Please ensure that you have only over version installed."),!1)}get packageJson(){return a.extensions.getExtension(this.isBetaVersion()?r.EXTENSION_BETA_ID:r.EXTENSION_ID).packageJSON}}t.Extension=l},3864:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FilesHelper=void 0;const o=n(3062),a=n(9496);t.FilesHelper=class{static getMdFiles(){return i(this,void 0,void 0,(function*(){const e=yield a.workspace.findFiles("**/*.md","**/node_modules/**,**/archetypes/**"),t=yield a.workspace.findFiles("**/*.markdown","**/node_modules/**,**/archetypes/**"),n=yield a.workspace.findFiles("**/*.mdx","**/node_modules/**,**/archetypes/**");return e||t?[...e,...t,...n]:(o.Notifications.info("No MD files found."),null)}))}}},5005:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameworkDetector=void 0;const i=n(7147),o=n(1017),a=n(7022);t.FrameworkDetector=class{static get(e){return this.check(e)}static getAll(){return a.FrameworkDetectors.map((e=>e.framework))}static check(e){var t,n;let s=null,r=null,d=null;try{const t=(0,o.join)(e,"package.json");if((0,i.existsSync)(t)){let e=(0,i.readFileSync)(t,"utf8");e&&(e="string"==typeof e?JSON.parse(e):e,s=e.dependencies||null,r=e.devDependencies||null)}}catch(e){}try{const t=(0,o.join)(e,"Gemfile");(0,i.existsSync)(t)&&(d=(0,i.readFileSync)(t,"utf8"))}catch(e){}for(const c of a.FrameworkDetectors)if(c&&e){for(const e of null!==(t=c.requiredDependencies)&&void 0!==t?t:[]){const t=s&&s[e],n=r&&r[e];if(t||n)return c.framework;if(d&&d.includes(e))return c.framework}for(const t of null!==(n=c.requiredFiles)&&void 0!==n?n:[])if((0,i.existsSync)((0,o.resolve)(e,t)))return c.framework}}}},1234:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0,t.groupBy=(e,t)=>e.reduce(((e,n)=>((e[n[t]]=e[n[t]]||[]).push(n),e)),{})},3897:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImageHelper=void 0;const i=n(8424),o=n(9496),a=n(1017),s=n(7147),r=n(1304),d=n(5491),c=n(4520),l=n(9290);class u{static allRelToAbs(e,t){var n;const i=null===(n=o.window.activeTextEditor)||void 0===n?void 0:n.document.uri.fsPath;if(!i)return;let a=null;if(e.multiple)Array.isArray(t)&&(a=t.map((e=>({original:e,absPath:u.relToAbs(i,e)}))));else if("string"==typeof t)return{original:t,absPath:u.relToAbs(i,t)};return a}static relToAbs(e,t){const n=r.Folders.getWorkspaceFolder(),i=d.Settings.get(c.SETTING_CONTENT_STATIC_FOLDER),u=(0,a.join)((0,l.parseWinPath)((null==n?void 0:n.fsPath)||""),i||"",t),p=e?(0,a.join)((0,a.dirname)(e),t):null,g=n?(0,a.join)(n.fsPath,t):null;return(0,s.existsSync)(u)?o.Uri.file(u):p&&(0,s.existsSync)(p)?o.Uri.file(p):g&&(0,s.existsSync)(g)?o.Uri.file(g):void 0}static absToRel(e){const t=r.Folders.getWorkspaceFolder(),n=d.Settings.get(c.SETTING_CONTENT_STATIC_FOLDER);let i=e||"";return e&&(i=e.split((0,l.parseWinPath)((null==t?void 0:t.fsPath)||"")).pop()||"",i=e.split(n||"").pop()||""),i}static processImageFields(e,t,n=[]){var o;const a=t.filter((e=>"image"===e.type)),s=i.ExplorerView.getInstance();let r=e;for(const e of n||[])r=r[e];if(r){for(const e of a)if(r[e.name]){const t=u.allRelToAbs(e,r[e.name]);if(t){if(e.multiple&&t instanceof Array){const n=t.map((e=>{var t;return e&&e.absPath?Object.assign(Object.assign({},e),{webviewUrl:null===(t=s.getWebview())||void 0===t?void 0:t.asWebviewUri(e.absPath).toString()}):null}));r[e.name]=n||[]}else if(!e.multiple&&!Array.isArray(t)&&t.absPath){const n=null===(o=s.getWebview())||void 0===o?void 0:o.asWebviewUri(t.absPath);r[e.name]=Object.assign(Object.assign({},t),{webviewUrl:n?n.toString():null})}}else r[e.name]=e.multiple?[]:""}const i=t.filter((e=>"fields"===e.type));if((null==i?void 0:i.length)>0)for(const t of i)this.processImageFields(e,t.fields||[],[...n,t.name])}}}t.ImageHelper=u},3427:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const i=n(2813),o=n(9496),a=n(8809);class s{constructor(){const e=i.Extension.getInstance().displayName;s.channel=o.window.createOutputChannel(e)}static getInstance(){return s.instance||(s.instance=new s),s.instance}static info(e,t="INFO"){var n;s.channel||s.getInstance(),null===(n=s.channel)||void 0===n||n.appendLine(`["${t}" - ${(0,a.format)(new Date,"HH:MM:ss")}]  ${e}`)}static warning(e){s.info(e,"WARNING")}static error(e){s.info(e,"ERROR")}}t.Logger=s,s.channel=null},1348:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaHelpers=void 0;const a=n(9489),s=n(67),r=n(1304),d=n(4520),c=n(7554),l=n(1017),u=n(7147),p=n(9496),g=n(7935),f=n(8099),h=n(5173),m=n(7519),T=n(1790),v=n(983);class y{static getMedia(e=0,t="",n=null){var o,f,m;return i(this,void 0,void 0,(function*(){const e=r.Folders.getWorkspaceFolder(),i=a.Settings.get(d.SETTING_CONTENT_STATIC_FOLDER),w=r.Folders.get(),S=s.Dashboard.viewData;let E=t;const _=T.ArticleHelper.getContentTypes().filter((e=>e.pageBundle)),N=a.Extension.getInstance(),M=null===n?yield N.getState(d.ExtensionState.Dashboard.Media.Sorting,"workspace"):n;if(!E){const e=yield N.getState(d.ExtensionState.SelectedFolder,"workspace");if(e!==d.HOME_PAGE_NAVIGATION_ID)if((null===(o=null==S?void 0:S.data)||void 0===o?void 0:o.filePath)&&((null===(f=null==S?void 0:S.data)||void 0===f?void 0:f.filePath.endsWith("index.md"))||(null===(m=null==S?void 0:S.data)||void 0===m?void 0:m.filePath.endsWith("index.mdx")))){const e=(0,l.parse)(S.data.filePath).dir;E=e}else e&&(0,u.existsSync)(e)&&(E=e)}E===d.HOME_PAGE_NAVIGATION_ID&&(E="");let b=E;const C=(0,a.parseWinPath)((null==e?void 0:e.fsPath)||"");E&&E.startsWith(C)&&(b=E.replace(C,"")),b.startsWith("/")&&(b=b.substring(1));let O=[];if(b){const e=yield p.workspace.findFiles((0,l.join)(b,"/*"));O=[...yield y.updateMediaData(y.filterMedia(e))]}else{if(i){const e=(0,l.join)(i||"","/*"),t=yield p.workspace.findFiles(e);O=[...yield y.updateMediaData(y.filterMedia(t))]}if(_.length>0&&w&&e)for(let t=0;t<w.length;t++){const n=w[t].path.substring(e.fsPath.length+1),i=b?(0,l.join)(b,"/*"):(0,l.join)(n,"/*"),o=yield p.workspace.findFiles(i),a=yield y.updateMediaData(y.filterMedia(o));O=[...O,...a]}}y.media=Object.assign([],O);let P=y.media;const D=P.length;P=P.map((e=>{try{const t=a.MediaLibrary.getInstance().get(e.fsPath),n=(0,v.lookup)(e.fsPath);return Object.assign(Object.assign(Object.assign({},e),{dimensions:n&&n.startsWith("image/")?(0,g.default)(e.fsPath):void 0,mimeType:(0,v.lookup)(e.fsPath)||""}),t)}catch(t){return Object.assign({},e)}})),P=P.filter((e=>void 0!==e.mtime)),P=(null==M?void 0:M.type)===c.SortType.string?M.id===h.SortOption.AltAsc||M.id===h.SortOption.AltDesc?P.sort(a.Sorting.alphabetically("alt")):M.id===h.SortOption.CaptionAsc||M.id===h.SortOption.CaptionDesc?P.sort(a.Sorting.alphabetically("caption")):P.sort(a.Sorting.alphabetically("fsPath")):(null==M?void 0:M.type)!==c.SortType.number||(null==M?void 0:M.id)!==h.SortOption.SizeAsc&&(null==M?void 0:M.id)!==h.SortOption.SizeDesc?(null==M?void 0:M.type)===c.SortType.date?P.sort(a.Sorting.dateWithFallback("mtime","fsPath")):P.sort(a.Sorting.alphabetically("fsPath")):P.sort(a.Sorting.numerically("size")),(null==M?void 0:M.order)===c.SortOrder.desc&&(P=P.reverse());let F=[],I=[];if(E)(0,u.existsSync)(E)&&(I=(0,u.readdirSync)(E,{withFileTypes:!0}).filter((e=>e.isDirectory())).map((e=>(0,a.parseWinPath)((0,l.join)(E,e.name)))));else{if(_.length>0)for(const e of w){const t=e.path;if(t&&(0,u.existsSync)(t)){const e=(0,u.readdirSync)(t,{withFileTypes:!0}).filter((e=>e.isDirectory())).map((e=>(0,a.parseWinPath)((0,l.join)(t,e.name))));F=[...F,...e]}}const t=(0,l.join)((0,a.parseWinPath)((null==e?void 0:e.fsPath)||""),i||"");t&&(0,u.existsSync)(t)&&(I=(0,u.readdirSync)(t,{withFileTypes:!0}).filter((e=>e.isDirectory())).map((e=>(0,a.parseWinPath)((0,l.join)(t,e.name)))))}yield a.Extension.getInstance().setState(d.ExtensionState.SelectedFolder,t===d.HOME_PAGE_NAVIGATION_ID?d.HOME_PAGE_NAVIGATION_ID:E,"workspace");let A=[...F,...I];return A=A.sort(((e,t)=>e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0)),(null==M?void 0:M.order)===c.SortOrder.desc&&(A=A.reverse()),{media:P,total:D,folders:A,selectedFolder:E}}))}static resetMedia(){y.media=[]}static saveFile({fileName:e,contents:t,folder:n}){return i(this,void 0,void 0,(function*(){if(e&&t){const i=r.Folders.getWorkspaceFolder(),o=a.Settings.get(d.SETTING_CONTENT_STATIC_FOLDER),s=i?i.fsPath:"";let c=(0,l.join)(s,o||"");if(n&&(c=n),(0,u.existsSync)(c)||(c=(0,l.join)(s,n||"")),!(0,u.existsSync)(c))return void a.Notifications.error("We couldn't find your selected folder.");const p=(0,l.join)(c,e),g=(0,a.decodeBase64)(t);if(g)return(0,u.writeFileSync)(p,g.data),a.Notifications.info(`File ${e} uploaded to: ${n}`),!0;throw a.Notifications.error(`Something went wrong uploading ${e}`),new Error(`Something went wrong uploading ${e}`)}return!1}))}static deleteFile({file:e,page:t,folder:n}){return i(this,void 0,void 0,(function*(){if(e)try{return(0,u.unlinkSync)(e),y.media=[],!0}catch(t){throw a.Notifications.error(`Something went wrong deleting ${(0,l.basename)(e)}`),new Error(`Something went wrong deleting ${(0,l.basename)(e)}`)}}))}static insertMediaToMarkdown(e){return i(this,void 0,void 0,(function*(){if((null==e?void 0:e.file)&&(null==e?void 0:e.relPath)){(null==e?void 0:e.position)||(yield p.commands.executeCommand("workbench.view.extension.frontmatter-explorer")),yield f.EditorHelper.showFile(e.file),s.Dashboard.resetViewData();const t=p.window.activeTextEditor,n=r.Folders.getWorkspaceFolder(),i=e.file;let o=e.relPath;const c=t?T.ArticleHelper.getFrontMatter(t):null,u=c&&c.data?T.ArticleHelper.getContentType(c.data):d.DEFAULT_CONTENT_TYPE,g=(0,l.join)((0,a.parseWinPath)((null==n?void 0:n.fsPath)||""),o),h=(0,a.parseWinPath)((0,l.dirname)(i)),y=(0,a.parseWinPath)((0,l.dirname)(g)),w=r.Folders.get();if(u.pageBundle&&w.some((e=>{const t=e.path;return-1!==y.toLowerCase().indexOf(t.toLowerCase())}))){const t=(0,l.relative)(h,y);o=(0,l.join)(t,(0,l.basename)(o)),e.snippet&&(e.snippet=e.snippet.replace(e.relPath,o))}if(null==e?void 0:e.position){const n=e.position.line,i=e.position.character;if(n){const a=null==t?void 0:t.selection;yield null==t?void 0:t.edit((t=>{const s=(0,v.lookup)(o);let r=!0;s&&(r=!s.startsWith("image"));const d=r?`${e.title||""}`:`${e.alt||e.caption||""}`,c=e.snippet||`${r?"":"!"}[${d}](${o})`;void 0!==a?t.replace(a,c):t.insert(new p.Position(n,i),c)}))}m.MediaListener.getMediaSelection()}else m.MediaListener.getMediaSelection(),m.DataListener.updateMetadata({field:e.fieldName,value:o,parents:e.parents,blockData:e.blockData})}}))}static updateMetadata(e){const{file:t,filename:n,page:i,folder:s}=e,r=o(e,["file","filename","page","folder"]),d=a.MediaLibrary.getInstance();d.set(t,r),d.updateFilename(t,n)}static filterMedia(e){let t=a.Settings.get(d.SETTING_MEDIA_SUPPORTED_MIMETYPES)||["image/*","video/*","audio/*"];return t=t.map((e=>e.toLowerCase())),e.filter((e=>{const n=(0,v.lookup)(e.fsPath);return!!n&&this.acceptMimeType(n,t)})).map((e=>{var t;return{filename:(0,l.basename)(e.fsPath),fsPath:e.fsPath,vsPath:null===(t=s.Dashboard.getWebview())||void 0===t?void 0:t.asWebviewUri(e).toString(),stats:void 0}}))}static updateMediaData(e){return i(this,void 0,void 0,(function*(){return e=e.map((e=>{const t=(0,u.statSync)(e.fsPath);return Object.assign({},e,t)})),Object.assign([],e)}))}static acceptMimeType(e,t){if(e&&t){const n=e.toLowerCase(),i=n.replace(/\/.*$/,"");return t.some((e=>{const t=e.trim().toLowerCase();return t.endsWith("/*")?i===t.replace(/\/.*$/,""):n===t}))}return!0}}t.MediaHelpers=y,y.media=[]},1718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaLibrary=void 0;const i=n(1348),o=n(9496),a=n(3952),s=n(1017),r=n(1304),d=n(7147),c=n(3062),l=n(9290),u=n(4520);class p{constructor(){const e=r.Folders.getWorkspaceFolder();e&&(this.db=new a.JsonDB((0,s.join)((0,l.parseWinPath)((null==e?void 0:e.fsPath)||""),u.LocalStore.rootFolder,u.LocalStore.contentFolder,u.LocalStore.mediaDatabaseFile),!0,!1,"/"),o.workspace.onDidRenameFiles((e=>{e.files.forEach((e=>{const t=e.oldUri.path.toLowerCase();(t.endsWith(".jpeg")||t.endsWith(".jpg")||t.endsWith(".png")||t.endsWith(".gif"))&&(this.rename(e.oldUri.fsPath,e.newUri.fsPath),i.MediaHelpers.resetMedia())}))})))}static getInstance(){return p.instance||(p.instance=new p),p.instance}get(e){var t;try{const n=this.parsePath(e);return(null===(t=this.db)||void 0===t?void 0:t.exists(n))?this.db.getData(n):void 0}catch(e){return}}set(e,t){var n;const i=this.parsePath(e);null===(n=this.db)||void 0===n||n.push(i,t,!0)}rename(e,t){var n,i,o;const a=this.parsePath(e),s=this.parsePath(t),r=null===(n=this.db)||void 0===n?void 0:n.getData(a);r&&(null===(i=this.db)||void 0===i||i.delete(a),null===(o=this.db)||void 0===o||o.push(s,r,!0))}updateFilename(e,t){const n=(0,s.basename)(e);if(n!==t&&t)try{const n=(0,s.parse)(e),o=(0,s.parse)(t),a=(0,s.join)((0,s.dirname)(e),`${o.name}${n.ext}`);(0,d.existsSync)(a)?c.Notifications.warning(`The name "${t}" already exists at the file location.`):((0,d.renameSync)(e,a),this.rename(e,a),i.MediaHelpers.resetMedia())}catch(e){c.Notifications.error(`Something went wrong updating "${n}" to "${t}".`)}}parsePath(e){const t=r.Folders.getWorkspaceFolder(),n="win32"===process.platform;let i=e.replace((0,l.parseWinPath)((null==t?void 0:t.fsPath)||""),r.WORKSPACE_PLACEHOLDER);return i=n?i.split("\\").join("/"):i,i.toLowerCase()}}t.MediaLibrary=p},8561:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHelper=void 0;class n{static getVsCodeAPI(){return n.vscode||(n.vscode=acquireVsCodeApi()),n.vscode}}t.MessageHelper=n,n.sendMessage=(e,t)=>{const i=n.getVsCodeAPI();t?i.postMessage({command:e,data:t}):i.postMessage({command:e})},n.getState=()=>n.getVsCodeAPI().getState(),n.setState=e=>{n.getVsCodeAPI().setState(Object.assign({},e))}},3062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Notifications=void 0;const i=n(9496),o=n(4520),a=n(3427),s=n(5491);t.Notifications=class{static info(e,...t){return a.Logger.info(`${o.EXTENSION_NAME}: ${e}`,"INFO"),this.shouldShow("INFO")?i.window.showInformationMessage(`${o.EXTENSION_NAME}: ${e}`,...t):Promise.resolve(void 0)}static warning(e,...t){return a.Logger.info(`${o.EXTENSION_NAME}: ${e}`,"WARNING"),this.shouldShow("WARNING")?i.window.showWarningMessage(`${o.EXTENSION_NAME}: ${e}`,...t):Promise.resolve(void 0)}static error(e,...t){return a.Logger.info(`${o.EXTENSION_NAME}: ${e}`,"ERROR"),this.shouldShow("ERROR")?i.window.showErrorMessage(`${o.EXTENSION_NAME}: ${e}`,...t):Promise.resolve(void 0)}static shouldShow(e){let t=s.Settings.get(o.SETTING_GLOBAL_NOTIFICATIONS);return!t||!!t.map((e=>e.toLowerCase())).includes(e.toLowerCase())}}},8947:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.PanelSettings=void 0;const o=n(9496),a=n(9489),s=n(67),r=n(5429),d=n(7694),c=n(4520),l=n(7554);t.PanelSettings=class{static get(){return i(this,void 0,void 0,(function*(){return{seo:{title:a.Settings.get(c.SETTING_SEO_TITLE_LENGTH)||-1,slug:a.Settings.get(c.SETTING_SEO_SLUG_LENGTH)||-1,description:a.Settings.get(c.SETTING_SEO_DESCRIPTION_LENGTH)||-1,content:a.Settings.get(c.SETTING_SEO_CONTENT_MIN_LENGTH)||-1,descriptionField:a.Settings.get(c.SETTING_SEO_DESCRIPTION_FIELD)||c.DefaultFields.Description},slug:{prefix:a.Settings.get(c.SETTING_SLUG_PREFIX)||"",suffix:a.Settings.get(c.SETTING_SLUG_SUFFIX)||"",updateFileName:!!a.Settings.get(c.SETTING_SLUG_UPDATE_FILE_NAME)},date:{format:a.Settings.get(c.SETTING_DATE_FORMAT)||""},tags:a.Settings.get(c.SETTING_TAXONOMY_TAGS,!0)||[],categories:a.Settings.get(c.SETTING_TAXONOMY_CATEGORIES,!0)||[],customTaxonomy:a.Settings.get(c.SETTING_TAXONOMY_CUSTOM,!0)||[],freeform:a.Settings.get(c.SETTING_PANEL_FREEFORM),scripts:(a.Settings.get(c.SETTING_CUSTOM_SCRIPTS)||[]).filter((e=>e.type===l.ScriptType.Content||!e.type)),isInitialized:yield d.Template.isInitialized(),modifiedDateUpdate:a.Settings.get(c.SETTING_AUTO_UPDATE_DATE)||!1,writingSettingsEnabled:this.isWritingSettingsEnabled()||!1,fmHighlighting:a.Settings.get(c.SETTING_CONTENT_FRONTMATTER_HIGHLIGHT),preview:r.Preview.getSettings(),commaSeparatedFields:a.Settings.get(c.SETTING_COMMA_SEPARATED_FIELDS)||[],contentTypes:a.Settings.get(c.SETTING_TAXONOMY_CONTENT_TYPES)||[],dashboardViewData:s.Dashboard.viewData,draftField:a.Settings.get(c.SETTING_CONTENT_DRAFT_FIELD),isBacker:yield a.Extension.getInstance().getState(c.CONTEXT.backer,"global"),framework:a.Settings.get(c.SETTING_FRAMEWORK_ID),commands:{start:a.Settings.get(c.SETTING_FRAMEWORK_START)},dataTypes:a.Settings.get(c.SETTING_DATA_TYPES),fieldGroups:a.Settings.get(c.SETTING_TAXONOMY_FIELD_GROUPS)}}))}static isWritingSettingsEnabled(){const e=o.workspace.getConfiguration("",{languageId:"markdown"}),t=e.get("editor.fontSize"),n=e.get("editor.lineHeight"),i=e.get("editor.wordWrap"),a=e.get("editor.wordWrapColumn"),s=e.get("editor.lineNumbers"),r=e.get("editor.quickSuggestions");return t&&n&&i&&a&&s&&void 0!==r}}},1209:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processKnownPlaceholders=void 0;const i=n(8809),o=n(2997),a=n(8930);t.processKnownPlaceholders=(e,t,n)=>{if(e&&"string"==typeof e){if(e.includes("{{title}}")){const n=new RegExp("{{title}}","g");e=e.replace(n,t)}if(e.includes("{{slug}}")){const n=new RegExp("{{slug}}","g");e=e.replace(n,a.SlugHelper.createSlug(t)||"")}if(e.includes("{{now}}")){const t=new RegExp("{{now}}","g");if(!n||"string"!=typeof n)return(new Date).toISOString();e=e.replace(t,(0,i.format)(new Date,o.DateHelper.formatUpdate(n)))}if(e.includes("{{year}}")){const t=new RegExp("{{year}}","g");e=e.replace(t,(0,i.format)(new Date,"yyyy"))}if(e.includes("{{month}}")){const t=new RegExp("{{month}}","g");e=e.replace(t,(0,i.format)(new Date,"MM"))}if(e.includes("{{day}}")){const t=new RegExp("{{day}}","g");e=e.replace(t,(0,i.format)(new Date,"dd"))}}return e}},3528:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Questions=void 0;const o=n(9496),a=n(1304),s=n(8020),r=n(3062);t.Questions=class{static yesOrNo(e){return i(this,void 0,void 0,(function*(){return"yes"===(yield o.window.showQuickPick(["yes","no"],{canPickMany:!1,placeHolder:e,ignoreFocusOut:!1}))}))}static ContentTitle(e=!0){return i(this,void 0,void 0,(function*(){const t=yield o.window.showInputBox({prompt:"What would you like to use as a title for the content to create?",placeHolder:"Content title"});if(t||!e)return t;r.Notifications.warning("You did not specify a title for your content.")}))}static SelectContentFolder(e=!0){return i(this,void 0,void 0,(function*(){const t=a.Folders.get();let n;if(n=t.length>1?yield o.window.showQuickPick(t.map((e=>e.title)),{placeHolder:"Select where you want to create your content",ignoreFocusOut:!0}):t[0].title,n||!e)return n;r.Notifications.warning("You didn't select a place where you wanted to create your content.")}))}static SelectContentType(e=!0){return i(this,void 0,void 0,(function*(){const t=s.ContentType.getAll();if(!t||0===t.length)return void r.Notifications.warning("No content types found. Please create a content type first.");if(1===t.length)return t[0].name;const n=t.map((e=>({label:e.name}))),i=yield o.window.showQuickPick(n,{placeHolder:"Select the content type to create your new content",canPickMany:!1});if(i||!e)return null==i?void 0:i.label;r.Notifications.warning("No content type was selected.")}))}}},9590:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/[\/\?<>\\:\*\|"]/g,i=/[\x00-\x1f\x80-\x9f]/g,o=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,s=/[\. ]+$/;function r(e,t){if("string"!=typeof e)throw new Error("Input must be string");return e.replace(n,t).replace(i,t).replace(o,t).replace(a,t).replace(s,t)}t.default=function(e,t){var n=t&&t.replacement||"",i=r(e,n);return""===n?i:r(i,"")}},6524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeoHelper=void 0;const i=n(9496),o=n(9489);t.SeoHelper=class{static checkLength(e,t,n,a,s){const r=n.data[a];if(r.length>s){const d=e.document.getText(),c=o.ArticleHelper.stringifyFrontMatter("",n.data),l=d.indexOf(r);if(-1!==l&&l<c.length){const n=e.document.positionAt(l),o=e.document.positionAt(l+1+r.length),d={code:"",message:`Article ${a} is longer than ${s} characters (current length: ${r.length}). For SEO reasons, it would be better to make it less than ${s} characters.`,range:new i.Range(n,o),severity:i.DiagnosticSeverity.Warning,source:"Front Matter"};if(t.has(e.document.uri)){const n=t.get(e.document.uri)||[];t.set(e.document.uri,[...n,d])}else t.set(e.document.uri,[d])}}}}},5491:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;const o=n(5090),a=n(3062),s=n(9496),r=n(9496),d=n(7554),c=n(4520),l=n(1304),u=n(1017),p=n(7147),g=n(2813);class f{static init(){const e=f.projectConfigPath;if(e&&(0,p.existsSync)(e)){const t=(0,p.readFileSync)(e,"utf8");f.globalConfig=JSON.parse(t),s.commands.executeCommand("setContext",c.CONTEXT.isEnabled,!0)}else f.globalConfig=void 0;f.config=r.workspace.getConfiguration(c.CONFIG_KEY),f.onConfigChange((e=>{e?f.globalConfig=Object.assign({},e):f.config=r.workspace.getConfiguration(c.CONFIG_KEY)}))}static checkToPromote(){return i(this,void 0,void 0,(function*(){(yield g.Extension.getInstance().getState(c.ExtensionState.SettingPromoted,"workspace"))||f.hasSettings()&&s.window.showInformationMessage('You have local settings. Would you like to promote them to the global settings ("frontmatter.json")?',"Yes","No").then((e=>i(this,void 0,void 0,(function*(){"Yes"===e&&f.promote(),"No"!==e&&"Yes"!==e||g.Extension.getInstance().setState(c.ExtensionState.SettingPromoted,!0,"workspace")}))))}))}static onConfigChange(e){const t=f.projectConfigPath;s.workspace.onDidChangeConfiguration((()=>{e()})),t&&(0,p.existsSync)(t)&&(0,p.watch)(t,(()=>{e()})),s.workspace.onDidSaveTextDocument((t=>i(this,void 0,void 0,(function*(){const n=t.uri.fsPath;if(f.checkProjectConfig(n)){const n=yield s.workspace.openTextDocument(t.uri);if(n){const t=n.getText(),i=JSON.parse(t);e(i)}}})))),s.workspace.onDidDeleteFiles((t=>{(null==t?void 0:t.files.find((e=>f.checkProjectConfig(e.fsPath))))&&e()}))}static inspect(e){const t=f.config.inspect(e),n=`${c.CONFIG_KEY}.${e}`,i=f.globalConfig&&void 0!==f.globalConfig[n]?f.globalConfig[n]:void 0;return Object.assign(Object.assign({},t),{teamValue:i})}static get(e,t=!1){const n=f.config.inspect(e);let i;const o=`${c.CONFIG_KEY}.${e}`;return f.globalConfig&&void 0!==f.globalConfig[o]&&(i=f.globalConfig[o]),n&&void 0!==n.workspaceValue&&(i=t&&i&&"object"==typeof i?Object.assign([],i,n.workspaceValue):n.workspaceValue),void 0===i&&(i=f.config.get(e)),i}static update(e,t,n=!1){return i(this,void 0,void 0,(function*(){const i=f.projectConfigPath;if(n)if(i&&(0,p.existsSync)(i)){const n=(0,p.readFileSync)(i,"utf8");f.globalConfig=JSON.parse(n),f.globalConfig[`${c.CONFIG_KEY}.${e}`]=t,(0,p.writeFileSync)(i,JSON.stringify(f.globalConfig,null,2),"utf8"),f.hasWorkspaceSettings(e)&&(yield f.update(e,void 0))}else yield f.config.update(e,t);else yield f.config.update(e,t)}))}static createTeamSettings(){const e=l.Folders.getWorkspaceFolder();this.createGlobalFile(e)}static createGlobalFile(e){const t={$schema:`https://${g.Extension.getInstance().isBetaVersion()?"beta.":""}frontmatter.codes/frontmatter.schema.json`};if(e){const n=(0,u.join)(e.fsPath,f.globalFile);(0,p.existsSync)(n)||(0,p.writeFileSync)(n,JSON.stringify(t,null,2),"utf8")}}static getTaxonomy(e){const t=e===d.TaxonomyType.Tag?c.SETTING_TAXONOMY_TAGS:c.SETTING_TAXONOMY_CATEGORIES,n=f.get(t,!0);return n&&n.length>0?n:[]}static updateTaxonomy(e,t){return i(this,void 0,void 0,(function*(){const n=e===d.TaxonomyType.Tag?c.SETTING_TAXONOMY_TAGS:c.SETTING_TAXONOMY_CATEGORIES;t=(t=[...new Set(t)]).sort().filter((e=>!!e)),yield f.update(n,t,!0)}))}static updateCustomTaxonomy(e,t){return i(this,void 0,void 0,(function*(){const n=f.get(c.SETTING_TAXONOMY_CUSTOM,!0)||[];let i=null==n?void 0:n.findIndex((t=>t.id===e));-1===i&&(n.push({id:e,options:[]}),i=null==n?void 0:n.findIndex((t=>t.id===e))),n[i].options.push(t),n[i].options=[...new Set(n[i].options)],n[i].options=n[i].options.sort().filter((e=>!!e)),yield f.update(c.SETTING_TAXONOMY_CUSTOM,n,!0)}))}static promote(){var e,t;return i(this,void 0,void 0,(function*(){const n=g.Extension.getInstance().packageJson;if(null===(t=null===(e=null==n?void 0:n.contributes)||void 0===e?void 0:e.configuration)||void 0===t?void 0:t.properties){const e=Object.keys(n.contributes.configuration.properties);for(const t of e){const e=t.replace(`${c.CONFIG_KEY}.`,""),n=f.config.inspect(e);n&&void 0!==n.workspaceValue&&(yield f.update(e,n.workspaceValue,!0),yield f.update(e,void 0))}}a.Notifications.info("All settings promoted to team level."),o.Telemetry.send(c.TelemetryEvent.promoteSettings)}))}static hasWorkspaceSettings(e){const t=f.config.inspect(e);return t&&void 0!==t.workspaceValue?t.workspaceValue:void 0}static hasSettings(){var e,t;let n=!1;const i=g.Extension.getInstance().packageJson;if(null===(t=null===(e=null==i?void 0:i.contributes)||void 0===e?void 0:e.configuration)||void 0===t?void 0:t.properties){const e=Object.keys(i.contributes.configuration.properties);for(const t of e){const e=t.replace(`${c.CONFIG_KEY}.`,""),i=f.config.inspect(e);i&&void 0!==i.workspaceValue&&(n=!0)}}return n}static checkProjectConfig(e){const t=f.projectConfigPath;return!(!t||!(0,p.existsSync)(t))&&e&&(0,u.basename)(e).toLowerCase()===f.globalFile.toLowerCase()&&t.toLowerCase()===e.toLowerCase()}static get projectConfigPath(){const e=l.Folders.getWorkspaceFolder();if(e)return(0,u.join)(e.fsPath,f.globalFile)}}t.Settings=f,f.globalFile="frontmatter.json"},8930:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlugHelper=void 0;const i=n(4520);t.SlugHelper=class{static createSlug(e){if(!e)return null;let t=this.removePunctuation(e).trim();if(t){t=t.toLowerCase();let e=t.split(/\s/);return e=this.removeStopWords(e),t=e.join("-"),t=this.replaceCharacters(t),t}return null}static removePunctuation(e){if("string"!=typeof e)return"";const t=null==e?void 0:e.replace(/[\.,-\/#!$@%\^&\*;:{}=\-_`'"~()+\?<>]/g," ");return null==t?void 0:t.replace(/\s{2,}/g," ")}static removeStopWords(e){const t=[];for(const n of e)-1===i.stopWords.indexOf(n.toLowerCase())&&t.push(n);return t}static replaceCharacters(e){return[...e].map((e=>i.charMap[e]||e)).join("")}}},5653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sorting=void 0;const i=n(2997);class o{}t.Sorting=o,o.alphabetically=e=>(t,n)=>t[e]<n[e]?-1:t[e]>n[e]?1:0,o.numerically=e=>(t,n)=>t[e]-n[e],o.date=e=>(t,n)=>{const o=i.DateHelper.tryParse(t[e]),a=i.DateHelper.tryParse(n[e]);return(o||new Date(0)).getTime()-(a||new Date(0)).getTime()},o.dateWithFallback=(e,t)=>(n,o)=>{const a=i.DateHelper.tryParse(n[e]),s=i.DateHelper.tryParse(o[e]);return(a||new Date(0)).getTime()-(s||new Date(0)).getTime()||(n[t]<o[t]?-1:n[t]>o[t]?1:0)},o.number=e=>(t,n)=>t[e]-n[e]},7332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstToUpper=void 0,t.firstToUpper=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},5090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Telemetry=void 0;const i=n(9877),o=n(9489),a=n(4520);class s{constructor(){const e=o.Extension.getInstance(),t=e.isBetaVersion()?a.EXTENSION_BETA_ID:a.EXTENSION_ID,n=e.version;s.reporter=new i.default(t,n,"525037e5-70ff-4620-8e52-30e1aef8deee")}static getInstance(){return s.instance||(s.instance=new s),s.instance}static send(e,t,n){var i;s.reporter||s.getInstance(),o.Settings.get(a.SETTING_TELEMETRY_DISABLE)||null===(i=s.reporter)||void 0===i||i.sendTelemetryEvent(e,t,n)}static dispose(){var e;null===(e=s.reporter)||void 0===e||e.dispose()}}t.Telemetry=s,s.reporter=null},4328:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeBase64=void 0,t.decodeBase64=e=>{const t=e.split(";base64,");if((null==t?void 0:t.length)<2)return null;const n=t[0].split(":").pop(),i=t.pop();let o={};return o.type=n,o.data=Buffer.from(i,"base64"),o}},5341:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNonce=void 0,t.getNonce=()=>{let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<32;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},9489:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(1790),t),o(n(8020),t),o(n(4524),t),o(n(7442),t),o(n(2997),t),o(n(2813),t),o(n(3864),t),o(n(5005),t),o(n(1234),t),o(n(3897),t),o(n(3427),t),o(n(1348),t),o(n(1718),t),o(n(8561),t),o(n(3062),t),o(n(3528),t),o(n(9590),t),o(n(6524),t),o(n(5491),t),o(n(8930),t),o(n(5653),t),o(n(7332),t),o(n(5090),t),o(n(4328),t),o(n(5341),t),o(n(5961),t),o(n(4644),t),o(n(9290),t)},5961:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidFile=void 0;const i=n(2889),o=n(9489),a=n(4520),s=n(1017);t.isValidFile=e=>{let t=o.Settings.get(a.SETTING_CONTENT_SUPPORTED_FILETYPES)||i.DEFAULT_FILE_TYPES;t=t.map((e=>e.startsWith(".")?e:`.${e}`));const n=(0,s.extname)(e);return t.includes(n)}},4644:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.openFileInEditor=void 0;const o=n(9496),a=n(3427),s=n(3062);t.openFileInEditor=e=>i(void 0,void 0,void 0,(function*(){if(e)try{const t=yield o.workspace.openTextDocument(o.Uri.file(e));yield o.window.showTextDocument(t,1,!1)}catch(t){s.Notifications.error("Couldn't open the file."),a.Logger.error(`${e}: ${t.message}`)}}))},9290:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseWinPath=void 0,t.parseWinPath=e=>(null==e?void 0:e.split("\\").join("/"))||""},6928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseListener=void 0;const i=n(67),o=n(3427);t.BaseListener=class{static process(e){}static sendMsg(e,t){o.Logger.info(`Sending message to webview: ${e}`),i.Dashboard.postWebviewMessage({command:e,data:t})}}},1086:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DashboardListener=void 0;const i=n(67),o=n(4520),a=n(9395),s=n(5573),r=n(9489),d=n(6928);class c extends d.BaseListener{static process(e){switch(super.process(e),e.command){case s.DashboardMessage.getViewType:i.Dashboard.viewData&&this.sendMsg(a.DashboardCommand.viewData,i.Dashboard.viewData);break;case s.DashboardMessage.reload:i.Dashboard.reload();break;case s.DashboardMessage.setPageViewType:r.Extension.getInstance().setState(o.ExtensionState.PagesView,e.data,"workspace");break;case s.DashboardMessage.showWarning:r.Notifications.warning(e.data)}}}t.DashboardListener=c},8888:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DataListener=void 0;const o=n(5573),a=n(6928),s=n(9395),r=n(1304),d=n(7147),c=n(1017),l=n(3320),u=n(9489),p=n(9496);class g extends a.BaseListener{static process(e){switch(super.process(e),e.command){case o.DashboardMessage.getDataEntries:(null==e?void 0:e.data).file||this.sendMsg(s.DashboardCommand.dataFileEntries,[]),this.processDataFile(null==e?void 0:e.data);break;case o.DashboardMessage.putDataEntries:this.processDataUpdate(null==e?void 0:e.data);break;default:return}}static processDataUpdate(e){const{file:t,fileType:n,entries:i}=e,o=r.Folders.getAbsFilePath(t);if(!(0,d.existsSync)(o)){const e=(0,c.dirname)(o);(0,d.existsSync)(e)||(0,d.mkdirSync)(e,{recursive:!0})}if("yaml"===n){const e=l.safeDump(i);(0,d.writeFileSync)(o,e,"utf8")}else(0,d.writeFileSync)(o,JSON.stringify(i,null,2));this.processDataFile(e)}static processDataFile(e){return i(this,void 0,void 0,(function*(){try{const{file:t}=e,n=this.getDataFile(t);if("yaml"===e.fileType){const e=l.safeLoad(n||"");this.sendMsg(s.DashboardCommand.dataFileEntries,e)}else{const e=n?JSON.parse(n):[];this.sendMsg(s.DashboardCommand.dataFileEntries,e)}}catch(e){u.Logger.error(`DataListener::processDataFile: ${e.message}`);const t=yield u.Notifications.error("Something went wrong while processing the data file. Check your file and output log for more information.","Open output");t&&"Open output"===t&&p.commands.executeCommand("workbench.panel.output.focus")}}))}static getDataFile(e){const t=r.Folders.getAbsFilePath(e);return(0,d.existsSync)(t)?(0,d.readFileSync)(t,"utf8"):null}}t.DataListener=g},3926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionListener=void 0;const i=n(9496),o=n(1687),a=n(4520),s=n(5573),r=n(9489),d=n(4644),c=n(6928);class l extends c.BaseListener{static process(e){var t,n;switch(super.process(e),e.command){case s.DashboardMessage.openFile:(0,d.openFileInEditor)(e.data);break;case s.DashboardMessage.initializeProject:i.commands.executeCommand(a.COMMAND_NAME.init,o.SettingsListener.getSettings);break;case s.DashboardMessage.copyToClipboard:i.env.clipboard.writeText(e.data);break;case s.DashboardMessage.runCustomScript:r.CustomScript.run(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.script,null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.path);break;case s.DashboardMessage.setState:this.setState(null==e?void 0:e.data)}}static setState(e){const{key:t,value:n}=e;t&&n&&r.Extension.getInstance().setState(t,n,"workspace")}}t.ExtensionListener=l},8806:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaListener=void 0;const o=n(5090),a=n(1348),s=n(5573),r=n(6928),d=n(9395),c=n(9496),l=n(4520),u=n(2037);class p extends r.BaseListener{static process(e){const t=Object.create(null,{process:{get:()=>super.process}});var n,r;return i(this,void 0,void 0,(function*(){switch(t.process.call(this,e),e.command){case s.DashboardMessage.getMedia:const{page:t,folder:i,sorting:d}=null==e?void 0:e.data;this.sendMediaFiles(t,i,d);break;case s.DashboardMessage.refreshMedia:o.Telemetry.send(l.TelemetryEvent.refreshMedia),a.MediaHelpers.resetMedia(),this.sendMediaFiles(0,null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.folder);break;case s.DashboardMessage.uploadMedia:o.Telemetry.send(l.TelemetryEvent.uploadMedia),this.store(null==e?void 0:e.data);break;case s.DashboardMessage.deleteMedia:o.Telemetry.send(l.TelemetryEvent.deleteMedia),this.delete(null==e?void 0:e.data);break;case s.DashboardMessage.revealMedia:this.openFileInFinder(null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.file);break;case s.DashboardMessage.insertMedia:o.Telemetry.send(l.TelemetryEvent.insertMediaToContent),a.MediaHelpers.insertMediaToMarkdown(null==e?void 0:e.data);break;case s.DashboardMessage.insertFile:o.Telemetry.send(l.TelemetryEvent.insertFileToContent),a.MediaHelpers.insertMediaToMarkdown(null==e?void 0:e.data);break;case s.DashboardMessage.updateMediaMetadata:o.Telemetry.send(l.TelemetryEvent.updateMediaMetadata),this.update(e.data);break;case s.DashboardMessage.createMediaFolder:yield c.commands.executeCommand(l.COMMAND_NAME.createFolder,null==e?void 0:e.data)}}))}static sendMediaFiles(e=0,t="",n=null){return i(this,void 0,void 0,(function*(){const i=yield a.MediaHelpers.getMedia(e,t,n);this.sendMsg(d.DashboardCommand.media,i)}))}static openFileInFinder(e){var t;e&&("Linux"===u.type()&&"wsl"===(null===(t=c.env.remoteName)||void 0===t?void 0:t.toLowerCase())?c.commands.executeCommand("remote-wsl.revealInExplorer",c.Uri.parse(e)):c.commands.executeCommand("revealFileInOS",c.Uri.parse(e)))}static store(e){return i(this,void 0,void 0,(function*(){try{const{folder:t}=e;yield a.MediaHelpers.saveFile(e);const n=`${t}`;this.timers[n]&&(clearTimeout(this.timers[n]),delete this.timers[n]),this.timers[n]=setTimeout((()=>{a.MediaHelpers.resetMedia(),this.sendMediaFiles(0,t||""),delete this.timers[n]}),500)}catch(e){}}))}static delete(e){try{a.MediaHelpers.deleteFile(e),this.sendMediaFiles(e.page||0,e.folder||"")}catch(e){}}static update(e){try{const{page:t,folder:n}=e;a.MediaHelpers.updateMetadata(e),this.sendMediaFiles(t||0,n||"")}catch(e){}}}t.MediaListener=p,p.timers={}},9026:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))},o=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.PagesListener=void 0;const a=n(5961),s=n(7147),r=n(1017),d=n(9496),c=n(67),l=n(1304),u=n(4520),p=n(9395),g=n(5573),f=n(9489),h=n(8020),m=n(2997),T=n(3062),v=n(6928),y=n(7519),w=n(4221);class S extends v.BaseListener{static process(e){const t=Object.create(null,{process:{get:()=>super.process}});return i(this,void 0,void 0,(function*(){switch(t.process.call(this,e),e.command){case g.DashboardMessage.getData:this.getPagesData();break;case g.DashboardMessage.createContent:yield d.commands.executeCommand(u.COMMAND_NAME.createContent);break;case g.DashboardMessage.createByContentType:yield d.commands.executeCommand(u.COMMAND_NAME.createByContentType);break;case g.DashboardMessage.createByTemplate:yield d.commands.executeCommand(u.COMMAND_NAME.createByTemplate);break;case g.DashboardMessage.refreshPages:this.getPagesData(!0);break;case g.DashboardMessage.searchPages:this.searchPages(e.data);break;case g.DashboardMessage.deleteFile:this.deletePage(e.data)}}))}static saveFileWatcher(){return d.workspace.onDidSaveTextDocument((e=>{f.ArticleHelper.isSupportedFile(e)&&(f.Logger.info(`File saved ${e.uri.fsPath}`),y.DataListener.getFoldersAndFiles(),this.watcherExec(e.uri))}))}static startWatchers(){return i(this,void 0,void 0,(function*(){const e=l.Folders.get();if(!e||0===e.length)return;const t=Object.keys(this.watchers);for(const e of t)this.watchers[e].dispose(),delete this.watchers[e];for(const t of e){const e=d.Uri.parse(t.path);let n=d.workspace.createFileSystemWatcher(new d.RelativePattern(e,"*"),!1,!1,!1);n.onDidCreate((e=>i(this,void 0,void 0,(function*(){return this.watcherExec(e)})))),n.onDidChange((e=>i(this,void 0,void 0,(function*(){return this.watcherExec(e)})))),n.onDidDelete((e=>i(this,void 0,void 0,(function*(){return this.watcherExec(e)})))),this.watchers[e.fsPath]=n}}))}static deletePage(e){return i(this,void 0,void 0,(function*(){if(!e)return;f.Logger.info(`Deleting file: ${e}`),(0,s.unlinkSync)(e),this.lastPages=this.lastPages.filter((t=>t.fmFilePath!==e)),this.sendPageData(this.lastPages);const t=f.Extension.getInstance();yield t.setState(u.ExtensionState.Dashboard.Pages.Cache,this.lastPages,"workspace")}))}static watcherExec(e){return i(this,void 0,void 0,(function*(){if(c.Dashboard.isOpen){const t=f.Extension.getInstance();f.Logger.info(`File watcher execution for: ${e.fsPath}`);const n=this.lastPages.findIndex((t=>t.fmFilePath===e.fsPath));if(-1!==n){const i=yield d.workspace.fs.stat(e),o=this.lastPages[n],a=this.processPageContent(e.fsPath,i.mtime,(0,r.basename)(e.fsPath),o.fmFolder);a&&(this.lastPages[n]=a,this.sendPageData(this.lastPages),yield t.setState(u.ExtensionState.Dashboard.Pages.Cache,this.lastPages,"workspace"))}else this.getPagesData(!0)}}))}static getPagesData(e=!1){var t;return i(this,void 0,void 0,(function*(){const n=f.Extension.getInstance();if(!e){const e=yield n.getState(u.ExtensionState.Dashboard.Pages.Cache,"workspace");e&&this.sendPageData(e)}const i=yield l.Folders.getInfo(),o=[];if(i)for(const e of i)for(const n of e.lastModified)if((0,a.isValidFile)(n.fileName))try{const t=this.processPageContent(n.filePath,n.mtime,n.fileName,e.title);t&&o.push(t)}catch(e){if("webview is disposed"===(null===(t=e)||void 0===t?void 0:t.message.toLowerCase()))continue;f.Logger.error(`PagesListener::getPagesData: ${n.filePath} - ${e.message}`),T.Notifications.error(`File error: ${n.filePath} - ${(null==e?void 0:e.message)||e}`)}this.lastPages=o,this.sendPageData(o),this.sendMsg(p.DashboardCommand.searchReady,!0),yield n.setState(u.ExtensionState.Dashboard.Pages.Cache,o,"workspace"),yield this.createSearchIndex(o)}))}static sendPageData(e){this.sendMsg(p.DashboardCommand.pages,e.map((e=>{const{fmBody:t}=e;return o(e,["fmBody"])})))}static createSearchIndex(e){return i(this,void 0,void 0,(function*(){const t=w.default.createIndex(["title","slug","description","fmBody"],e);yield f.Extension.getInstance().setState(u.ExtensionState.Dashboard.Pages.Index,t,"workspace")}))}static searchPages(e){return i(this,void 0,void 0,(function*(){const t=yield f.Extension.getInstance().getState(u.ExtensionState.Dashboard.Pages.Index,"workspace"),n=new w.default(this.lastPages,{keys:[{name:"title",weight:1},{name:"fmBody",weight:1},{name:"slug",weight:.5},{name:"description",weight:.5}],includeScore:!0,ignoreLocation:!0,threshold:.1},t).search(e.query||"").map((e=>e.item));this.sendMsg(p.DashboardCommand.searchPages,n)}))}static refresh(){this.getPagesData(!0)}static processPageContent(e,t,n,i){var o,a;const p=f.ArticleHelper.getFrontMatterByPath(e);if(null==p?void 0:p.data.title){const g=l.Folders.getWorkspaceFolder(),T=f.Settings.get(u.SETTING_SEO_DESCRIPTION_FIELD)||u.DefaultFields.Description,v=f.ArticleHelper.getPublishDateField(p)||u.DefaultFields.PublishingDate,y=(null==p?void 0:p.data[v])?m.DateHelper.tryParse(null==p?void 0:p.data[v]):void 0,w=f.ArticleHelper.getModifiedDateField(p)||null,S=w&&(null==p?void 0:p.data[w])?null===(o=m.DateHelper.tryParse(null==p?void 0:p.data[w]))||void 0===o?void 0:o.getTime():void 0,E=f.Settings.get(u.SETTING_CONTENT_STATIC_FOLDER),_=Object.assign(Object.assign({},p.data),{fmFolder:i,fmFilePath:e,fmFileName:n,fmDraft:h.ContentType.getDraftStatus(null==p?void 0:p.data),fmModified:S||t,fmPublished:y?y.getTime():null,fmYear:y?y.getFullYear():null,fmPreviewImage:"",fmTags:[],fmCategories:[],fmBody:(null==p?void 0:p.content)||"",title:null==p?void 0:p.data.title,slug:null==p?void 0:p.data.slug,date:(null==p?void 0:p.data[v])||"",draft:null==p?void 0:p.data.draft,description:(null==p?void 0:p.data[T])||""}),N=f.ArticleHelper.getContentType(p.data);let M=this.findPreviewField(N.fields);0===M.length&&N.fields.find((e=>"image"===e.type&&"preview"===e.name))&&(M=["preview"]);let b=this.findFieldByType(N.fields,"tags");0!==b.length&&(_.fmTags=this.getFieldValue(p.data,b));let C=this.findFieldByType(N.fields,"categories");if(0!==C.length&&(_.fmCategories=this.getFieldValue(p.data,C)),M.length>0){let t=null,n=null==p?void 0:p.data;for(let e=0;e<M.length;e++){const i=M[e];if(e===M.length-1)t=n[i];else{if(!n[i])continue;if(n=n[i],n instanceof Array&&n.length>0){const t=n.find((t=>t[M[e+1]]));if(!t)continue;n=t}}}if(t&&g&&(t&&Array.isArray(t)&&(t=t.length>0?t[0]:void 0),t)){const n=(0,r.join)(g.fsPath,E||"",t),i=(0,r.join)((0,r.dirname)(e),t);let o=null;if((0,s.existsSync)(n)?o=d.Uri.file(n):(0,s.existsSync)(i)&&(o=d.Uri.file(i)),o){const e=null===(a=c.Dashboard.getWebview())||void 0===a?void 0:a.asWebviewUri(o);_.fmPreviewImage=(null==e?void 0:e.toString())||""}}}return _}}static getFieldValue(e,t){let n=[],i=e;for(let e=0;e<t.length;e++){const o=t[e];if(e===t.length-1)n=i[o];else{if(!i[o])continue;i=i[o]}}return n}static findFieldByType(e,t,n=[]){for(const i of e){if(i.type===t)return[...n,i.name];if("fields"===i.type&&i.fields){const e=this.findPreviewField(i.fields);if(e.length>0)return[...n,i.name,...e]}}return n}static findPreviewField(e,t=[]){for(const n of e){if(n.isPreviewImage&&"image"===n.type)return[...t,n.name];if("fields"===n.type&&n.fields){const e=this.findPreviewField(n.fields);if(e.length>0)return[...t,n.name,...e]}else if("block"===n.type){const e=this.findPreviewInBlockField(n);if(e.length>0)return[...t,n.name,...e]}}return t}static findPreviewInBlockField(e){const t=e.fieldGroup&&Array.isArray(e.fieldGroup)?e.fieldGroup:[e.fieldGroup];if(!t)return[];const n=f.Settings.get(u.SETTING_TAXONOMY_FIELD_GROUPS);if(!n)return[];let i=!1;for(const e of t){const t=n.find((t=>t.id===e));if(!t)continue;let o=[];if(i||(o=this.findPreviewField(null==t?void 0:t.fields,[])),o.length>0)return i=!0,o}return[]}}t.PagesListener=S,S.watchers={},S.lastPages=[]},1902:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsListener=void 0;const o=n(1017),a=n(9496),s=n(1304),r=n(4520),d=n(9395),c=n(5573),l=n(9489),u=n(5005),p=n(6928);class g extends p.BaseListener{static process(e){switch(super.process(e),e.command){case c.DashboardMessage.getData:this.getSettings();break;case c.DashboardMessage.updateSetting:this.update(e.data);break;case c.DashboardMessage.setFramework:this.setFramework(null==e?void 0:e.data);break;case c.DashboardMessage.addFolder:this.addFolder(null==e?void 0:e.data)}}static update(e){return i(this,void 0,void 0,(function*(){e.name&&(yield l.Settings.update(e.name,e.value),this.getSettings())}))}static getSettings(){return i(this,void 0,void 0,(function*(){const e=yield l.DashboardSettings.get();this.sendMsg(d.DashboardCommand.settings,e)}))}static setFramework(e){if(l.Settings.update(r.SETTING_FRAMEWORK_ID,e,!0),e){const t=u.FrameworkDetector.getAll().find((t=>t.name===e));t?l.Settings.update(r.SETTING_CONTENT_STATIC_FOLDER,t.static,!0):l.Settings.update(r.SETTING_CONTENT_STATIC_FOLDER,"",!0)}g.getSettings()}static addFolder(e){if(e){const t=s.Folders.getWorkspaceFolder(),n=a.Uri.file((0,o.join)((null==t?void 0:t.fsPath)||"",e));a.commands.executeCommand(r.COMMAND_NAME.registerFolder,n)}}}t.SettingsListener=g},4364:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SnippetListener=void 0;const o=n(8099),a=n(9496),s=n(67),r=n(4520),d=n(5573),c=n(9489),l=n(6928),u=n(1902);class p extends l.BaseListener{static process(e){switch(super.process(e),e.command){case d.DashboardMessage.addSnippet:this.addSnippet(e.data);break;case d.DashboardMessage.updateSnippet:this.updateSnippet(e.data);break;case d.DashboardMessage.insertSnippet:this.insertSnippet(e.data)}}static addSnippet(e){return i(this,void 0,void 0,(function*(){const{title:t,description:n,body:i,fields:o}=e;if(!t||!i)return void c.Notifications.warning("Snippet missing title or body");const a=c.Settings.get(r.SETTING_CONTENT_SNIPPETS);if(a&&a[t])return void c.Notifications.warning("Snippet with the same title already exists");const s=i.split("\n");a[t]={description:n,body:1===s.length?s[0]:s,fields:o||[]},yield c.Settings.update(r.SETTING_CONTENT_SNIPPETS,a,!0),u.SettingsListener.getSettings()}))}static updateSnippet(e){return i(this,void 0,void 0,(function*(){const{snippets:t}=e;t?(yield c.Settings.update(r.SETTING_CONTENT_SNIPPETS,t,!0),u.SettingsListener.getSettings()):c.Notifications.warning("No snippets to update")}))}static insertSnippet(e){var t;return i(this,void 0,void 0,(function*(){const{file:n,snippet:i}=e;if(!n||!i)return;yield o.EditorHelper.showFile(e.file),s.Dashboard.resetViewData();const r=a.window.activeTextEditor,d=null===(t=null==r?void 0:r.selection)||void 0===t?void 0:t.active;if(!d)return;const c=null==r?void 0:r.selection;yield null==r?void 0:r.edit((e=>{void 0!==c?e.replace(c,i):e.insert(d,i)}))}))}}t.SnippetListener=p},4334:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryListener=void 0;const i=n(5573),o=n(5090),a=n(6928);class s extends a.BaseListener{static process(e){super.process(e),e.command===i.DashboardMessage.sendTelemetry&&o.Telemetry.send(e.data.event,e.data.properties,e.data.metrics)}}t.TelemetryListener=s},1687:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(6928),t),o(n(1086),t),o(n(8888),t),o(n(3926),t),o(n(8806),t),o(n(9026),t),o(n(1902),t),o(n(4364),t),o(n(4334),t)},5598:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseListener=void 0;const i=n(67),o=n(8424),a=n(9489),s=n(3427);t.BaseListener=class{static process(e){}static sendMsg(e,t){s.Logger.info(`Sending message to webview (panel&dashboard): ${e}`);const n=a.Extension.getInstance().extensionPath;o.ExplorerView.getInstance(n).sendMessage({command:e,data:t}),i.Dashboard.postWebviewMessage({command:e,data:t})}}},7024:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ModeListener=void 0;const o=n(4824),a=n(4520),s=n(5573),r=n(7663),d=n(5598),c=n(9489),l=n(9496);class u extends d.BaseListener{static process(e){switch(super.process(e),e.command){case s.DashboardMessage.getMode:case r.CommandToCode.getMode:this.getMode()}}static getMode(){return i(this,void 0,void 0,(function*(){const e=c.Settings.get(a.SETTING_GLOBAL_MODES);if(!e||0===e.length)return void(yield this.resetEnablement());const t=o.ModeSwitch.getMode();if(t){const n=e.find((e=>e.id===t));this.sendMsg(a.GeneralCommands.setMode,n);const i=null==n?void 0:n.features.find((e=>e===a.FEATURE_FLAG.dashboard.snippets.view)),o=null==n?void 0:n.features.find((e=>e===a.FEATURE_FLAG.dashboard.data.view));yield l.commands.executeCommand("setContext",a.CONTEXT.isSnippetsDashboardEnabled,!!i),yield l.commands.executeCommand("setContext",a.CONTEXT.isDataDashboardEnabled,!!o)}else this.sendMsg(a.GeneralCommands.setMode,void 0),yield this.resetEnablement()}))}static hasFeature(e){return i(this,void 0,void 0,(function*(){const t=c.Settings.get(a.SETTING_GLOBAL_MODES);if(!t||0===t.length)return!0;const n=o.ModeSwitch.getMode();if(n){const i=t.find((e=>e.id===n));return null==i?void 0:i.features.find((t=>t===e))}return!0}))}static resetEnablement(){return i(this,void 0,void 0,(function*(){yield l.commands.executeCommand("setContext",a.CONTEXT.isSnippetsDashboardEnabled,!0),yield l.commands.executeCommand("setContext",a.CONTEXT.isDataDashboardEnabled,!0)}))}}t.ModeListener=u},4118:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(7024),t)},9450:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArticleListener=void 0;const i=n(5885),o=n(7663),a=n(1424);class s extends a.BaseListener{static process(e){switch(super.process(e),e.command){case o.CommandToCode.updateSlug:i.Article.generateSlug();break;case o.CommandToCode.updateLastMod:i.Article.setLastModifiedDate();break;case o.CommandToCode.publish:i.Article.toggleDraft()}}}t.ArticleListener=s},1424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseListener=void 0;const i=n(2813),o=n(8424),a=n(9489);t.BaseListener=class{static process(e){}static sendMsg(e,t){a.Logger.info(`Sending message to panel: ${e}`);const n=i.Extension.getInstance().extensionPath;o.ExplorerView.getInstance(n).sendMessage({command:e,data:t})}}},6045:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DataListener=void 0;const o=n(3897),a=n(1304),s=n(7650),r=n(7663),d=n(1424),c=n(9496),l=n(9489),u=n(4520),p=n(5885),g=n(1209);class f extends d.BaseListener{static process(e){var t,n,i;switch(super.process(e),e.command){case r.CommandToCode.getData:this.getFoldersAndFiles(),this.getFileData();break;case r.CommandToCode.createContent:c.commands.executeCommand(u.COMMAND_NAME.createContent);break;case r.CommandToCode.createTemplate:c.commands.executeCommand(u.COMMAND_NAME.createTemplate);break;case r.CommandToCode.updateMetadata:this.updateMetadata(e.data);break;case r.CommandToCode.frameworkCommand:this.openTerminalWithCommand(e.data.command);break;case r.CommandToCode.updatePlaceholder:this.updatePlaceholder(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.field,null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.value,null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.title);break;case r.CommandToCode.generateContentType:c.commands.executeCommand(u.COMMAND_NAME.generateContentType);case r.CommandToCode.addMissingFields:c.commands.executeCommand(u.COMMAND_NAME.addMissingFields);case r.CommandToCode.setContentType:c.commands.executeCommand(u.COMMAND_NAME.setContentType)}}static getFoldersAndFiles(){return i(this,void 0,void 0,(function*(){const e=(yield a.Folders.getInfo(10))||null;this.sendMsg(s.Command.folderInfo,e)}))}static pushMetadata(e){var t;const n=a.Folders.getWorkspaceFolder(),i=null===(t=c.window.activeTextEditor)||void 0===t?void 0:t.document.uri.fsPath,r=l.Settings.get(u.SETTING_COMMA_SEPARATED_FIELDS),d=l.Settings.get(u.SETTING_TAXONOMY_CONTENT_TYPES);let g=null;try{g=l.ArticleHelper.getDetails()}catch(e){l.Logger.error(`DataListener::pushMetadata: ${e.message}`)}g&&(e.articleDetails=g);let h=Object.assign({},e);if(r)for(const e of r)h[e]&&"string"==typeof h[e]&&(h[e]=h[e].split(",").map((e=>e.trim())));const m=Object.keys(h);if(m.length>0&&(h.filePath=i),m.length>0&&d&&n){const e=l.ArticleHelper.getContentType(h);e&&o.ImageHelper.processImageFields(h,e.fields)}if(!h[u.DefaultFields.Slug]){const e=p.Article.getSlug();e&&(h[u.DefaultFields.Slug]=e)}this.sendMsg(s.Command.metadata,h),f.lastMetadataUpdate=h}static updateMetadata({field:e,parents:t,value:n,blockData:o}){return i(this,void 0,void 0,(function*(){if(!e)return;const i=c.window.activeTextEditor;if(!i)return;const a=l.ArticleHelper.getFrontMatter(i);if(!a)return;const s=l.ArticleHelper.getContentType(a.data),r=s.fields.filter((e=>"datetime"===e.type)),d=s.fields.filter((e=>"image"===e.type&&e.multiple)),u=s.fields.filter((e=>"file"===e.type&&e.multiple)),g=f.getParentObject(a.data,a,t,o),h=r.some((t=>t.name===e)),m=d.some((t=>t.name===e)),T=u.some((t=>t.name===e));if(h)for(const t of r)e===t.name&&n&&(g[e]=p.Article.formatDate(new Date(n)));else if(m||T){const t=m?d:u;for(const i of t)if(e===i.name)if(Array.isArray(n))g[e]=n||[];else{let t=g[e];t&&!Array.isArray(t)&&(t=[t]);const i=[...Object.assign([],t)||[],n];g[e]=[...new Set(i)].filter((e=>e))}}else g[e]=n;l.ArticleHelper.update(i,a),this.pushMetadata(a.data)}))}static getParentObject(e,t,n,i){let o=e,a=Object.assign([],n);const s=l.ArticleHelper.getContentType(t.data);if(null==i?void 0:i.parentFields){let e=null;o=t.data;for(const t of null==i?void 0:i.parentFields)o[t]||(o[t]={}),a[0]&&a[0]===t&&a.shift(),o=o[t],e=s.fields.find((e=>e.name===t));if(i&&e&&"block"===e.type&&(void 0!==i.selectedIndex?o=o[i.selectedIndex]:(o.push({fieldGroup:i.blockType}),o=o[o.length-1])),a.length>0)for(const e of a)o[e]||(o[e]={}),o=o[e]}else for(const e of n||[])o[e]||(o[e]={}),o=o[e];return o}static getFileData(){return i(this,void 0,void 0,(function*(){const e=c.window.activeTextEditor;if(!e)return"";const t=l.ArticleHelper.getFrontMatter(e);(null==t?void 0:t.data)&&this.pushMetadata(t.data)}))}static openTerminalWithCommand(e){if(e){let t=c.window.activeTerminal;(!t||t&&!0===t.state.isInteractedWith)&&(t=c.window.createTerminal({name:"Starting local server",iconPath:new c.ThemeIcon("server-environment"),message:"Starting local server"})),t&&(t.sendText(e),t.show(!1))}}static updatePlaceholder(e,t,n){if(e&&t){const e=l.Settings.get(u.SETTING_DATE_FORMAT);t=(0,g.processKnownPlaceholders)(t,n||"",e),t=l.ArticleHelper.processCustomPlaceholders(t,n||"")}this.sendMsg(s.Command.updatePlaceholder,{field:e,value:t})}}t.DataListener=f,f.lastMetadataUpdate={}},1090:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionListener=void 0;const o=n(7663),a=n(1424),s=n(9496),r=n(2037),d=n(2081),c=n(1304),l=n(4520),u=n(7519),p=n(9489);class g extends a.BaseListener{static process(e){switch(super.process(e),e.command){case o.CommandToCode.openFile:this.openFile();break;case o.CommandToCode.openProject:this.openFolder();break;case o.CommandToCode.openInEditor:(0,p.openFileInEditor)(e.data);break;case o.CommandToCode.initProject:this.initialize();break;case o.CommandToCode.toggleCenterMode:s.commands.executeCommand("workbench.action.toggleCenteredLayout");break;case o.CommandToCode.openPreview:s.commands.executeCommand(l.COMMAND_NAME.preview);break;case o.CommandToCode.openDashboard:s.commands.executeCommand(l.COMMAND_NAME.dashboard)}}static initialize(){return i(this,void 0,void 0,(function*(){yield s.commands.executeCommand(l.COMMAND_NAME.init),u.SettingsListener.getSettings()}))}static openFile(){var e;"Linux"===r.type()&&"wsl"===(null===(e=s.env.remoteName)||void 0===e?void 0:e.toLowerCase())?s.commands.executeCommand("remote-wsl.revealInExplorer"):s.commands.executeCommand("revealFileInOS")}static openFolder(){var e;const t=c.Folders.getWorkspaceFolder();if(t){const n=t.fsPath;"Darwin"===r.type()?(0,d.exec)(`open ${n}`):"Windows_NT"===r.type()?(0,d.exec)(`explorer ${n}`):"Linux"===r.type()&&"wsl"===(null===(e=s.env.remoteName)||void 0===e?void 0:e.toLowerCase())?(0,d.exec)('explorer.exe `wslpath -w "$PWD"`'):(0,d.exec)(`xdg-open ${n}`)}}}t.ExtensionListener=g},4358:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MediaListener=void 0;const o=n(8424),a=n(9496),s=n(67),r=n(4520),d=n(9489),c=n(7650),l=n(7663),u=n(1424);class p extends u.BaseListener{static process(e){switch(super.process(e),e.command){case l.CommandToCode.selectImage:case l.CommandToCode.selectFile:this.selectMedia(e);break;case l.CommandToCode.getImageUrl:this.generateUrl(e.data)}}static generateUrl(e){var t,n;const i=null===(t=a.window.activeTextEditor)||void 0===t?void 0:t.document.uri.fsPath,s=d.ImageHelper.relToAbs(i||"",e);if(s){const t=null===(n=o.ExplorerView.getInstance().getWebview())||void 0===n?void 0:n.asWebviewUri(s);t&&this.sendMsg(c.Command.sendMediaUrl,{original:e,url:t.toString()})}}static selectMedia(e){return i(this,void 0,void 0,(function*(){yield a.commands.executeCommand(r.COMMAND_NAME.dashboard,{type:"media",data:e.data}),this.getMediaSelection()}))}static getMediaSelection(){return i(this,void 0,void 0,(function*(){this.sendMsg(c.Command.mediaSelectionData,s.Dashboard.viewData)}))}}t.MediaListener=p},3967:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptListener=void 0;const i=n(4520),o=n(9489),a=n(7663),s=n(1424);class r extends s.BaseListener{static process(e){super.process(e),e.command===a.CommandToCode.runCustomScript&&this.runCustomScript(e)}static runCustomScript(e){var t,n;const a=o.Settings.get(i.SETTING_CUSTOM_SCRIPTS);if((null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.title)&&(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.script)&&a){const t=a.find((t=>t.title===e.data.title));(null==t?void 0:t.script)&&(null==t?void 0:t.title)&&o.CustomScript.run(t)}}}t.ScriptListener=r},683:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsListener=void 0;const o=n(9496),a=n(4520),s=n(9489),r=n(8947),d=n(7650),c=n(7663),l=n(1424);class u extends l.BaseListener{static process(e){switch(super.process(e),e.command){case c.CommandToCode.getData:this.getSettings();break;case c.CommandToCode.openSettings:this.openVSCodeSettings();break;case c.CommandToCode.toggleWritingSettings:this.toggleWritingSettings();break;case c.CommandToCode.updateModifiedUpdating:this.updateSetting(a.SETTING_AUTO_UPDATE_DATE,e.data||!1);break;case c.CommandToCode.updateFmHighlight:this.updateSetting(a.SETTING_CONTENT_FRONTMATTER_HIGHLIGHT,null!==e.data&&void 0!==e.data&&e.data);break;case c.CommandToCode.updatePreviewUrl:this.updateSetting(a.SETTING_PREVIEW_HOST,e.data||"");break;case c.CommandToCode.updateStartCommand:this.updateSetting(a.SETTING_FRAMEWORK_START,e.data||"")}}static getSettings(){return i(this,void 0,void 0,(function*(){const e=yield r.PanelSettings.get();this.sendMsg(d.Command.settings,e)}))}static openVSCodeSettings(){const e=s.Extension.getInstance().isBetaVersion();o.commands.executeCommand("workbench.action.openSettings",`@ext:${e?a.EXTENSION_BETA_ID:a.EXTENSION_ID}`)}static updateSetting(e,t){return i(this,void 0,void 0,(function*(){yield s.Settings.update(e,t),this.getSettings()}))}static toggleWritingSettings(){return i(this,void 0,void 0,(function*(){const e=o.workspace.getConfiguration("",{languageId:"markdown"}),t=r.PanelSettings.isWritingSettingsEnabled();yield e.update("editor.fontSize",t?void 0:14,!1,!0),yield e.update("editor.lineHeight",t?void 0:26,!1,!0),yield e.update("editor.wordWrap",t?void 0:"wordWrapColumn",!1,!0),yield e.update("editor.wordWrapColumn",t?void 0:64,!1,!0),yield e.update("editor.lineNumbers",t?void 0:"off",!1,!0),yield e.update("editor.quickSuggestions",!!t&&void 0,!1,!0),yield e.update("editor.minimap.enabled",!!t&&void 0,!1,!0),this.getSettings()}))}}t.SettingsListener=u},1018:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TaxonomyListener=void 0;const o=n(7663),a=n(1002),s=n(1424),r=n(9496),d=n(9489),c=n(7554),l=n(7519),u=n(4520);class p extends s.BaseListener{static process(e){var t,n,i,s,r,d,c,l,u,p,g;switch(super.process(e),e.command){case o.CommandToCode.updateTags:this.updateTags(null===(t=e.data)||void 0===t?void 0:t.fieldName,(null===(n=e.data)||void 0===n?void 0:n.values)||[],(null===(i=e.data)||void 0===i?void 0:i.parents)||[],null===(s=e.data)||void 0===s?void 0:s.blockData);break;case o.CommandToCode.updateCategories:this.updateTags(null===(r=e.data)||void 0===r?void 0:r.fieldName,(null===(d=e.data)||void 0===d?void 0:d.values)||[],(null===(c=e.data)||void 0===c?void 0:c.parents)||[],null===(l=e.data)||void 0===l?void 0:l.blockData);break;case o.CommandToCode.updateKeywords:this.updateTags(a.TagType.keywords.toLowerCase(),(null===(u=e.data)||void 0===u?void 0:u.values)||[],(null===(p=e.data)||void 0===p?void 0:p.parents)||[],null===(g=e.data)||void 0===g?void 0:g.blockData);break;case o.CommandToCode.updateCustomTaxonomy:this.updateCustomTaxonomy(e.data);break;case o.CommandToCode.addTagToSettings:this.addTags(a.TagType.tags,e.data);break;case o.CommandToCode.addCategoryToSettings:this.addTags(a.TagType.categories,e.data);break;case o.CommandToCode.addToCustomTaxonomy:this.addCustomTaxonomy(e.data)}}static updateTags(e,t,n,i){const o=r.window.activeTextEditor;if(!o)return"";const a=d.ArticleHelper.getFrontMatter(o);a&&a.data&&(l.DataListener.getParentObject(a.data,a,n,i)[e]=t||[],d.ArticleHelper.update(o,a),l.DataListener.pushMetadata(a.data))}static updateCustomTaxonomy(e){if(!(null==e?void 0:e.id)||!(null==e?void 0:e.name))return;const t=r.window.activeTextEditor;if(!t)return"";const n=d.ArticleHelper.getFrontMatter(t);n&&n.data&&(l.DataListener.getParentObject(n.data,n,e.parents,e.blockData)[e.name]=e.options||[],d.ArticleHelper.update(t,n),l.DataListener.pushMetadata(n.data))}static addCustomTaxonomy(e){return i(this,void 0,void 0,(function*(){(null==e?void 0:e.id)&&(null==e?void 0:e.option)&&(yield d.Settings.updateCustomTaxonomy(e.id,e.option))}))}static addTags(e,t){return i(this,void 0,void 0,(function*(){if(t){let n=e===a.TagType.tags?d.Settings.get(u.SETTING_TAXONOMY_TAGS,!0):d.Settings.get(u.SETTING_TAXONOMY_CATEGORIES,!0);n||(n=[]),n.push(t);const i=e===a.TagType.tags?c.TaxonomyType.Tag:c.TaxonomyType.Category;yield d.Settings.updateTaxonomy(i,n)}}))}}t.TaxonomyListener=p},7519:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(9450),t),o(n(1424),t),o(n(6045),t),o(n(1090),t),o(n(4358),t),o(n(3967),t),o(n(683),t),o(n(1018),t)},701:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3038:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2730:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6903:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},766:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5444:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2271:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1812:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptType=void 0,(n=t.ScriptType||(t.ScriptType={})).Content="content",n.MediaFolder="mediaFolder",n.MediaFile="mediaFile"},8473:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},997:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SortOrder=void 0,(n=t.SortOrder||(t.SortOrder={})).asc="asc",n.desc="desc"},258:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.SortType=void 0,(n=t.SortType||(t.SortType={})).string="string",n.number="number",n.date="date"},8485:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4387:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TaxonomyType=void 0,(n=t.TaxonomyType||(t.TaxonomyType={}))[n.Tag=1]="Tag",n[n.Category=2]="Category"},3050:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7554:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(701),t),o(n(6058),t),o(n(7808),t),o(n(3038),t),o(n(2730),t),o(n(1029),t),o(n(6903),t),o(n(766),t),o(n(4396),t),o(n(2666),t),o(n(5444),t),o(n(2271),t),o(n(1812),t),o(n(8473),t),o(n(997),t),o(n(258),t),o(n(8485),t),o(n(4387),t),o(n(3050),t)},7650:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Command=void 0,(n=t.Command||(t.Command={})).loading="loading",n.metadata="metadata",n.settings="settings",n.focusOnTags="focusOnTags",n.focusOnCategories="focusOnCategories",n.closeSections="closeSections",n.folderInfo="folderInfo",n.mediaSelectionData="mediaSelectionData",n.sendMediaUrl="sendMediaUrl",n.updatePlaceholder="updatePlaceholder"},7663:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CommandToCode=void 0,(n=t.CommandToCode||(t.CommandToCode={})).getData="get-data",n.updateSlug="update-slug",n.updateDate="update-date",n.updateLastMod="update-lastmod",n.publish="publish",n.updateTags="update-tags",n.updateCategories="update-categories",n.updateKeywords="update-keywords",n.addTagToSettings="add-tag",n.addCategoryToSettings="add-category",n.openSettings="open-settings",n.openFile="open-file",n.openProject="open-project",n.runCustomScript="custom-script",n.initProject="init-project",n.createContent="create-content",n.updateModifiedUpdating="update-modified-updates",n.updateFmHighlight="update-fm-highlight",n.createTemplate="create-template",n.toggleCenterMode="toggle-center-mode",n.toggleWritingSettings="toggle-writing-settings",n.openPreview="open-preview",n.updatePreviewUrl="update-preview-url",n.openInEditor="open-in-editor",n.updateMetadata="update-metadata",n.openDashboard="open-dashboard",n.selectImage="select-image",n.selectFile="select-file",n.updateCustomTaxonomy="updateCustomTaxonomy",n.addToCustomTaxonomy="addToCustomTaxonomy",n.frameworkCommand="framework-command",n.updateStartCommand="update-start-command",n.getImageUrl="get-image-url",n.updatePlaceholder="update-placeholder",n.getMode="get-mode",n.generateContentType="generate-content-type",n.addMissingFields="add-missing-fields",n.setContentType="set-content-type"},1002:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TagType=void 0,(n=t.TagType||(t.TagType={})).tags="Tags",n.categories="Categories",n.keywords="Keywords",n.custom="Custom"},3879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrontMatterParser=void 0;const i=n(6372),o=n(9675),a=n(9489),s=n(4520);class r{static fromFile(e){const t=(0,i.getFormatOpts)(this.getLanguage());r.currentContent=e;const n=o(e,Object.assign(Object.assign({},i.Engines),t));return{data:Object.assign({},n.data),content:n.content.trim()&&n.content}}static toFile(e,t,n){const a=(0,i.getFormatOpts)(this.getLanguage()),s="\n"!==e.slice(-1),r=o.stringify(e,t,Object.assign(Object.assign(Object.assign({},i.Engines),n),a));return s&&"\n"===r.slice(-1)?r.substring(0,r.length-1):r}static getLanguage(){return(a.Settings.get(s.SETTING_FRONTMATTER_TYPE)||"YAML").toLowerCase()}}t.FrontMatterParser=r,r.currentContent=null},9715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Engines=t.getFormatOpts=void 0;const i=n(6792),o=n(5022),a=n(6372);t.getFormatOpts=e=>({yaml:{language:"yaml",delimiters:"---"},toml:{language:"toml",delimiters:"+++"},json:{language:"json",delimiters:"---"}}[e]),t.Engines={engines:{toml:{parse:e=>o.parse(e),stringify:e=>o.stringify(e)},yaml:{parse:e=>i.parse(e),stringify:(e,t)=>{if(a.FrontMatterParser.currentContent){const t=a.FrontMatterParser.currentContent;a.FrontMatterParser.currentContent=null;const n=s(t);if(n){const t=i.parseDocument(n);for(const n in e)t.set(n,e[n]);for(const n in t.toJSON())void 0===typeof e[n]&&t.delete(n);return t.toString()}}return i.stringify(e,t)}}}};const s=e=>{const t="---";let n=e;const i=t.length;if(!r(n,t,i))return null;if(n.charAt(i)===t.slice(-1))return null;n=n.slice(i);const o=n.length;let a=n.indexOf("\n---");return-1===a&&(a=o),n.slice(0,a)},r=(e,t,n)=>("number"!=typeof n&&(n=t.length),e.slice(0,n)===t)},6372:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(3879),t),o(n(9715),t)},1105:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=n(9496);class a{static get scheme(){return"frontmatter"}provideTextDocumentContent(e){return e.query}static show(e,t,n,s=o.ViewColumn.Beside){return i(this,void 0,void 0,(function*(){JSON.stringify(e,null,2);const i=o.Uri.parse(`${a.scheme}:${t} output`),r=yield o.workspace.openTextDocument(i);yield o.window.showTextDocument(r,{preview:!0,viewColumn:s,preserveFocus:!0});const d=new o.WorkspaceEdit;d.replace(r.uri,new o.Range(new o.Position(0,0),new o.Position(r.lineCount,0)),e),yield o.workspace.applyEdit(d),yield o.languages.setTextDocumentLanguage(r,n||"text")}))}}t.default=a},5872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrontMatterDecorationProvider=void 0;const i=n(9496);t.FrontMatterDecorationProvider=class{get(){const e=i.window.activeColorTheme.kind;return i.window.createTextEditorDecorationType({backgroundColor:e===i.ColorThemeKind.Dark?"#ffffff14":"#00000014",isWholeLine:!0})}}},8848:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownFoldingProvider=void 0;const o=n(9489),a=n(9496),s=n(9496),r=n(4520),d=n(9489),c=n(5872);class l{static register(){const e=d.Settings.get(r.SETTING_CONTENT_SUPPORTED_FILETYPES);a.languages.registerFoldingRangeProvider({language:"markdown",scheme:"file"},new l);for(const t of e||[])"md"!==t&&"markdown"!==t&&a.languages.registerFoldingRangeProvider({pattern:`**/*.${t}`,scheme:"file"},new l)}provideFoldingRanges(e,t,n){return i(this,void 0,void 0,(function*(){const t=[],n=l.getFrontMatterRange(e);return n&&(l.triggerHighlighting(),t.push(new s.FoldingRange(n.start.line,n.end.line,s.FoldingRangeKind.Region))),t}))}static triggerHighlighting(){var e,t;const n=null===(e=s.window.activeTextEditor)||void 0===e?void 0:e.document;if(o.ArticleHelper.isSupportedFile(n)){const e=d.Settings.get(r.SETTING_CONTENT_FRONTMATTER_HIGHLIGHT),n=this.getFrontMatterRange();n&&(null!==l.decType&&l.decType.dispose(),e&&(l.decType=(new c.FrontMatterDecorationProvider).get(),null===(t=s.window.activeTextEditor)||void 0===t||t.setDecorations(l.decType,[n])))}}static getFrontMatterRange(e){let t="---",n="---";if("TOML"===(d.Settings.get(r.SETTING_FRONTMATTER_TYPE)||"YAML")&&(t="+++",n=t),e){const i=e.getText().split("\n");let o=null,a=null,r=null;l.start=null,l.end=null,l.endLine=null;for(let e=0;e<i.length;e++){const d=i[e];if(d.startsWith(t)||d.startsWith(n))if(0===e&&null===o)o=e,l.start=o;else if(null!==o&&null===a)return a=e,r=d.length,l.end=a,l.endLine=r,l.triggerHighlighting(),new s.Range(new s.Position(o,0),new s.Position(a,r))}}return null!==l.start&&null!==l.end&&null!==l.endLine?new s.Range(new s.Position(l.start,0),new s.Position(l.end,l.endLine)):null}}t.MarkdownFoldingProvider=l,l.start=null,l.end=null,l.endLine=null,l.decType=null},4416:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Credentials=void 0;const o=n(4729),a=n(9496),s="github",r=["user:email"];t.Credentials=class{initialize(e,t){return i(this,void 0,void 0,(function*(){this.registerListeners(e,t),this.setOctokit()}))}setOctokit(){return i(this,void 0,void 0,(function*(){const e=yield a.authentication.getSession(s,r,{createIfNone:!1});this.octokit=e?new o.Octokit({auth:e.accessToken}):void 0}))}registerListeners(e,t){e.subscriptions.push(a.authentication.onDidChangeSessions((e=>i(this,void 0,void 0,(function*(){e.provider.id===s&&(yield this.setOctokit(),t&&t())})))))}getOctokit(){return i(this,void 0,void 0,(function*(){if(this.octokit)return this.octokit;const e=yield a.authentication.getSession(s,r,{createIfNone:!0});return this.octokit=new o.Octokit({auth:e.accessToken}),this.octokit}))}}},4824:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{d(i.next(e))}catch(e){a(e)}}function r(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ModeSwitch=void 0;const o=n(7024),a=n(6941),s=n(9496),r=n(5491),d=n(4520);class c{static register(){if(c.statusBarElm||(c.statusBarElm=s.window.createStatusBarItem(s.StatusBarAlignment.Left,100),c.statusBarElm.tooltip="Switch between the different modes of Front Matter",c.statusBarElm.command=d.COMMAND_NAME.modeSwitch),!c.isInit){s.commands.registerCommand(d.COMMAND_NAME.modeSwitch,c.switchMode);const e=r.Settings.get(a.SETTING_GLOBAL_ACTIVE_MODE);c.currentMode=e||"",c.isInit=!0}o.ModeListener.getMode();const e=r.Settings.get(a.SETTING_GLOBAL_MODES);if(!e||0===e.length)return c.statusBarElm.hide(),void s.commands.executeCommand("setContext",d.CONTEXT.hasViewModes,!1);s.commands.executeCommand("setContext",d.CONTEXT.hasViewModes,!0),c.setText()}static getMode(){return c.currentMode}static switchMode(){return i(this,void 0,void 0,(function*(){const e=r.Settings.get(a.SETTING_GLOBAL_MODES);if(!e||0===e.length)return;const t=["Default",...e.map((e=>e.id))],n=yield s.window.showQuickPick(t,{placeHolder:"Select the mode you want to use",ignoreFocusOut:!0,title:"Front Matter: Mode selection"});n&&(c.currentMode="Default"===n?"":n,c.setText(),o.ModeListener.getMode())}))}static setText(){c.statusBarElm.text=`$(preview) Mode: ${c.currentMode?c.currentMode:"Default"}`,c.statusBarElm.show()}}t.ModeSwitch=c,c.isInit=!1},9166:e=>{"use strict";e.exports=require("applicationinsights-native-metrics")},9496:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},852:e=>{"use strict";e.exports=require("async_hooks")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6206:e=>{"use strict";e.exports=require("console")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},8188:e=>{"use strict";e.exports=require("module")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},9512:e=>{"use strict";e.exports=require("timers")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.x=()=>{var e=a.O(void 0,[636],(()=>a(112)));return a.O(e)},e=[],a.O=(t,n,i,o)=>{if(!n){var s=1/0;for(l=0;l<e.length;l++){for(var[n,i,o]=e[l],r=!0,d=0;d<n.length;d++)(!1&o||s>=o)&&Object.keys(a.O).every((e=>a.O[e](n[d])))?n.splice(d--,1):(r=!1,o<s&&(s=o));if(r){e.splice(l--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,i,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"vendors.99e176cb3d1be4575ec1.js",a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n={179:1},a.O.require=e=>n[e],a.f.require=(e,t)=>{n[e]||(e=>{var t=e.modules,i=e.ids,o=e.runtime;for(var s in t)a.o(t,s)&&(a.m[s]=t[s]);o&&o(a);for(var r=0;r<i.length;r++)n[i[r]]=1;a.O()})(require("./"+a.u(e)))},t=a.x,a.x=()=>(a.e(636),t());var s=a.x();module.exports=s})();